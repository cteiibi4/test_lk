{"ast":null,"code":"\"use client\";\n\n// src/index.tsx\nimport { Component, createRef } from \"react\";\nimport { css as css5 } from \"@emotion/react\";\nimport styled12 from \"@emotion/styled\";\nimport isEqual2 from \"@gilbarbara/deep-equal\";\n\n// src/config.ts\nimport isPropValid from \"@emotion/is-prop-valid\";\nimport isEqual from \"@gilbarbara/deep-equal\";\nvar SLUG = \"react-dropdown\";\nvar defaultProps = {\n  autoFocus: true,\n  clearOnClose: true,\n  clearOnSelect: true,\n  closeOnScroll: false,\n  closeOnSelect: false,\n  comparatorFn: isEqual,\n  create: false,\n  direction: \"ltr\",\n  disabled: false,\n  hideHandle: false,\n  keepSelectedInList: true,\n  loading: false,\n  menuPosition: \"bottom\",\n  multi: false,\n  placeholder: \"Select...\",\n  searchable: true,\n  searchBy: \"label\",\n  secondaryPlaceholder: \"\",\n  showClearButton: false,\n  showSeparator: false,\n  values: []\n};\nvar styledOptions = {\n  shouldForwardProp: prop => isPropValid(prop) && ![\"color\", \"direction\", \"onClearAll\", \"onCreate\", \"onClose\", \"onOpen\", \"onSelectAll\", \"spacing\", \"width\"].includes(prop)\n};\n\n// src/modules/colors.ts\nfunction formatHex(input) {\n  const color = input.replace(\"#\", \"\");\n  let hex = color;\n  if (color.length === 3 || color.length === 4) {\n    hex = \"\";\n    [...color].forEach(d => {\n      hex += `${d}${d}`;\n    });\n  }\n  hex = `#${hex}`;\n  return hex;\n}\nfunction getTextColor(input) {\n  return getYiq(input) > 135 ? \"#000\" : \"#fff\";\n}\nfunction getYiq(color) {\n  if (!isValidHex(color)) {\n    return 0;\n  }\n  const {\n    blue,\n    green,\n    red\n  } = hexToRGB(color);\n  return (red * 299 + green * 587 + blue * 114) / 1e3;\n}\nfunction hexToRGB(input) {\n  if (!isValidHex(input)) {\n    return {\n      red: 0,\n      green: 0,\n      blue: 0\n    };\n  }\n  const hex = formatHex(input).replace(\"#\", \"\");\n  return {\n    red: parseInt(String(hex.charAt(0)) + hex.charAt(1), 16),\n    green: parseInt(String(hex.charAt(2)) + hex.charAt(3), 16),\n    blue: parseInt(String(hex.charAt(4)) + hex.charAt(5), 16)\n  };\n}\nfunction hexToRGBA(input, alpha) {\n  const {\n    blue,\n    green,\n    red\n  } = hexToRGB(input);\n  return `rgba(${red}, ${green}, ${blue}${alpha ? `, ${alpha}` : \"\"})`;\n}\nfunction isValidHex(input) {\n  return /^#([\\dA-Fa-f]{6}|[\\dA-Fa-f]{3})$/.test(input);\n}\n\n// src/modules/helpers.ts\nimport innerText from \"react-innertext\";\nfunction canUseDOM() {\n  return !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n}\nfunction debounce(fn, delay = 0) {\n  let timerId;\n  return (...arguments_) => {\n    if (timerId) {\n      clearTimeout(timerId);\n    }\n    timerId = window.setTimeout(() => {\n      fn(...arguments_);\n      timerId = 0;\n    }, delay);\n  };\n}\nfunction getAllOptions(options, values) {\n  const nextValues = options.filter(option => !option.disabled);\n  if (values.length) {\n    values.forEach(value => {\n      if (!nextValues.some(option => option.value === value.value)) {\n        nextValues.push(value);\n      }\n    });\n  }\n  return nextValues;\n}\nfunction getComponentMinHeight(minHeight, amount = 2) {\n  return px(minHeight - amount);\n}\nfunction getCursor(cursor, type, values = []) {\n  const total = values.length;\n  const lastValidIndex = values.map(item => !!item.disabled).lastIndexOf(false);\n  const disabled = values.reduce((acc, value, index) => {\n    if (value.disabled) {\n      acc.push(index);\n    }\n    return acc;\n  }, []);\n  const getNextCursor = nextCursor => {\n    if (type === \"down\") {\n      if (nextCursor === total) {\n        return 0;\n      }\n      if (disabled.includes(nextCursor)) {\n        return getNextCursor(nextCursor + 1);\n      }\n    } else if (type === \"up\") {\n      if (nextCursor < 0) {\n        return lastValidIndex;\n      }\n      if (disabled.includes(nextCursor)) {\n        return getNextCursor(nextCursor - 1);\n      }\n    }\n    return nextCursor;\n  };\n  if (cursor === null) {\n    return type === \"down\" ? 0 : lastValidIndex;\n  } else if (type === \"down\") {\n    return getNextCursor(cursor + 1);\n  } else if (type === \"up\") {\n    return getNextCursor(cursor - 1);\n  }\n  return cursor;\n}\nfunction getLabels(labels) {\n  const {\n    clear = \"Clear\",\n    create = \"Add {search}\",\n    disabled = \"disabled\",\n    noData = \"No data\",\n    toggle = \"Toggle\"\n  } = labels || {};\n  return {\n    clear,\n    create,\n    disabled,\n    noData,\n    toggle\n  };\n}\nfunction getOptionData(input, key) {\n  const value = input[key];\n  if (!isString(value) && !isNumber(value)) {\n    return innerText(value);\n  }\n  return value;\n}\nfunction getPosition(props, list) {\n  const {\n    methods: {\n      getDropdownRef,\n      getStyles: getStylesMethod\n    },\n    props: {\n      menuPosition = defaultProps.menuPosition\n    }\n  } = props;\n  const dropdown = getDropdownRef();\n  const {\n    gap\n  } = getStylesMethod();\n  const spacing = 16;\n  if (menuPosition !== \"auto\" || !list || !dropdown) {\n    return menuPosition;\n  }\n  const {\n    bottom\n  } = dropdown.getBoundingClientRect();\n  const {\n    height\n  } = list.getBoundingClientRect();\n  const viewportHeight = isomorphicWindow().innerHeight;\n  const totalHeight = bottom + height + gap + spacing;\n  if (totalHeight > viewportHeight) {\n    return \"top\";\n  }\n  return \"bottom\";\n}\nfunction getStyles(styles) {\n  const {\n    bgColor = \"#fff\",\n    borderColor = \"#ccc\",\n    borderRadius = \"4px\",\n    color = \"#1E90FF\",\n    disabledItemBgColor = \"#f2f2f2\",\n    disabledItemColor = \"#999\",\n    gap = 2,\n    hoverColor,\n    hoverOpacity = 0.2,\n    menuMaxHeight = 300,\n    minHeight = 36,\n    placeholderColor = \"#999\",\n    spacingX = 12,\n    spacingY = 8,\n    width = \"100%\"\n  } = styles || {};\n  return {\n    bgColor,\n    borderColor,\n    borderRadius: px(borderRadius),\n    color,\n    disabledItemBgColor,\n    disabledItemColor,\n    gap,\n    hoverColor: hoverColor || color,\n    hoverOpacity,\n    menuMaxHeight,\n    minHeight,\n    placeholderColor,\n    spacingX: px(spacingX),\n    spacingY: px(spacingY),\n    width: px(width)\n  };\n}\nfunction isomorphicWindow() {\n  if (typeof window === \"undefined\") {\n    return {\n      innerHeight: 0\n    };\n  }\n  return window;\n}\nfunction isNumber(input) {\n  return typeof input === \"number\";\n}\nfunction isString(input) {\n  return typeof input === \"string\";\n}\nfunction matchOptions(options, search, strict = true) {\n  return options.some(d => {\n    const label = strict ? getOptionData(d, \"label\") === search : getOptionData(d, \"label\").includes(String(search));\n    const value = strict ? getOptionData(d, \"value\") === search : String(getOptionData(d, \"value\")).includes(String(search));\n    return label || value;\n  });\n}\nfunction px(input) {\n  return isString(input) ? input : `${input}px`;\n}\n\n// src/components/Clear.tsx\nimport styled from \"@emotion/styled\";\n\n// src/icons/Times.tsx\nimport { jsx } from \"react/jsx-runtime\";\nfunction Times({\n  size = 8\n}) {\n  return /* @__PURE__ */jsx(\"svg\", {\n    height: px(size),\n    preserveAspectRatio: \"xMidYMid\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: px(size),\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: /* @__PURE__ */jsx(\"g\", {\n      children: /* @__PURE__ */jsx(\"path\", {\n        d: \"M0.313174194,0.313176288 C0.730750479,-0.104392096 1.40776019,-0.104392096 1.82533647,0.313176288 L7.99996524,6.48786773 L14.174701,0.313176288 C14.5922452,-0.104392096 15.2692976,-0.104392096 15.6868418,0.313176288 C16.1043861,0.730755364 16.1043861,1.4077696 15.6868418,1.82534867 L9.51210613,8.00001873 L15.6867349,14.1746887 C16.1042791,14.5922357 16.1042791,15.2692928 15.6867349,15.6868398 C15.2691907,16.1043867 14.5921382,16.1043867 14.174594,15.6868398 L7.99996524,9.51216972 L1.82538994,15.6868398 C1.40782434,16.1043867 0.730814635,16.1043867 0.313238349,15.6868398 C-0.104327243,15.2692928 -0.104327243,14.5922357 0.313238349,14.1746887 L6.48782435,8.00001873 L0.313174194,1.82534867 C-0.104391398,1.4077696 -0.104391398,0.730755364 0.313174194,0.313176288 Z\",\n        fill: \"currentColor\"\n      })\n    })\n  });\n}\nvar Times_default = Times;\n\n// src/components/Clear.tsx\nimport { jsx as jsx2 } from \"react/jsx-runtime\";\nvar StyledClear = styled.div`\n  align-items: center;\n  color: ${({\n  bgColor\n}) => getTextColor(bgColor)};\n  display: inline-flex;\n  justify-content: center;\n  min-height: ${({\n  minHeight\n}) => getComponentMinHeight(minHeight)};\n  width: 24px;\n\n  :focus {\n    outline: none;\n  }\n\n  :hover {\n    fill: ${({\n  hoverColor\n}) => hoverColor};\n  }\n`;\nfunction Clear(props) {\n  const {\n    methods: {\n      clearAll,\n      getLabels: getLabels2,\n      getStyles: getStyles2\n    },\n    props: {\n      clearComponent\n    }\n  } = props;\n  const {\n    clear\n  } = getLabels2();\n  if (clearComponent) {\n    return clearComponent(props);\n  }\n  const handleClick = event => {\n    event.stopPropagation();\n    clearAll();\n  };\n  return /* @__PURE__ */jsx2(StyledClear, {\n    \"aria-label\": clear,\n    className: `${SLUG}-clear`,\n    \"data-component-name\": \"DropdownClear\",\n    onClick: handleClick,\n    title: clear,\n    ...getStyles2(),\n    children: /* @__PURE__ */jsx2(Times_default, {})\n  });\n}\n\n// src/components/Content.tsx\nimport styled4 from \"@emotion/styled\";\n\n// src/components/Input.tsx\nimport { useEffect as useEffect2, useRef as useRef2 } from \"react\";\nimport { css } from \"@emotion/react\";\nimport styled2 from \"@emotion/styled\";\n\n// src/modules/hooks.ts\nimport { useEffect, useRef } from \"react\";\nfunction usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n\n// src/components/Input.tsx\nimport { jsx as jsx3 } from \"react/jsx-runtime\";\nvar StyledInput = styled2.input(props => {\n  const {\n    bgColor,\n    placeholderColor,\n    readOnly,\n    size\n  } = props;\n  return css`\n    background-color: transparent;\n    border: none;\n    color: ${getTextColor(bgColor)};\n    ${readOnly && \"cursor: pointer;\"}\n    font-size: inherit;\n    line-height: inherit;\n    padding: 0;\n    width: ${`${size}ch`};\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: ${placeholderColor};\n    }\n  `;\n});\nfunction getPlaceholder({\n  props,\n  state\n}) {\n  const {\n    placeholder,\n    searchable,\n    secondaryPlaceholder\n  } = props;\n  const hasValues = state.values && state.values.length > 0;\n  if (hasValues && secondaryPlaceholder && searchable) {\n    return secondaryPlaceholder;\n  }\n  if (!hasValues) {\n    return placeholder;\n  } else if (!searchable) {\n    return \"\";\n  }\n  return \"\";\n}\nfunction Input(props) {\n  const {\n    methods: {\n      createItem,\n      getInputSize,\n      getStyles: getStyles2,\n      setSearch\n    },\n    props: {\n      autoFocus,\n      create,\n      disabled,\n      inputComponent,\n      options,\n      searchable\n    },\n    state: {\n      cursor,\n      search,\n      status,\n      values\n    }\n  } = props;\n  const ref = useRef2(null);\n  const previousStatus = usePrevious(status);\n  useEffect2(() => {\n    if (previousStatus !== status && status && autoFocus) {\n      ref.current?.focus();\n    }\n    if (previousStatus !== status && !status) {\n      ref.current?.blur();\n    }\n  }, [autoFocus, status, previousStatus]);\n  const handleBlur = event => {\n    event.stopPropagation();\n    if (!status) {\n      ref.current?.blur();\n      return;\n    }\n    ref.current?.focus();\n  };\n  const handleKeyDown = event => {\n    if (create && event.key === \"Enter\" && !matchOptions([...values, ...options], search, false) && search && cursor === null) {\n      createItem(search);\n    }\n  };\n  if (inputComponent) {\n    return inputComponent({\n      ...props,\n      inputRef: ref\n    });\n  }\n  return /* @__PURE__ */jsx3(StyledInput, {\n    ref,\n    className: `${SLUG}-input`,\n    \"data-component-name\": \"DropdownInput\",\n    disabled,\n    onBlur: handleBlur,\n    onChange: setSearch,\n    onKeyDown: handleKeyDown,\n    placeholder: getPlaceholder(props),\n    readOnly: !searchable,\n    size: getInputSize(),\n    tabIndex: -1,\n    value: search,\n    ...getStyles2()\n  });\n}\n\n// src/components/Option.tsx\nimport { css as css2 } from \"@emotion/react\";\nimport styled3 from \"@emotion/styled\";\nimport { jsx as jsx4, jsxs } from \"react/jsx-runtime\";\nvar StyledOption = styled3.span(props => {\n  const {\n    color,\n    direction\n  } = props;\n  return css2`\n    align-items: center;\n    background-color: ${color};\n    border-radius: 2px;\n    color: ${getTextColor(color)};\n    display: flex;\n    flex-direction: ${direction === \"rtl\" ? \"row-reverse\" : \"row\"};\n    line-height: 1;\n    margin: 3px 6px 3px 0;\n    padding: 4px;\n\n    :hover,\n    :hover > span {\n      opacity: 0.9;\n    }\n  `;\n});\nvar RemoveButton = styled3.button`\n  align-items: center;\n  appearance: none;\n  background-color: transparent;\n  border: none;\n  color: ${({\n  color\n}) => getTextColor(color)};\n  cursor: pointer;\n  display: inline-flex;\n  height: 16px;\n  justify-content: center;\n  margin-left: 4px;\n  padding: 0;\n  width: 16px;\n`;\nfunction Option(props) {\n  const {\n    item,\n    methods: {\n      removeItem\n    },\n    props: {\n      closeOnSelect = defaultProps.closeOnSelect,\n      direction = defaultProps.direction,\n      optionComponent,\n      styles\n    }\n  } = props;\n  if (optionComponent) {\n    return optionComponent(props);\n  }\n  return /* @__PURE__ */jsxs(StyledOption, {\n    className: `${SLUG}-option`,\n    \"data-component-name\": \"DropdownOption\",\n    direction,\n    role: \"listitem\",\n    ...getStyles(styles),\n    children: [/* @__PURE__ */jsx4(\"span\", {\n      className: `${SLUG}-option-label`,\n      children: getOptionData(item, \"label\")\n    }), /* @__PURE__ */jsx4(RemoveButton, {\n      className: `${SLUG}-option-remove`,\n      \"data-component-name\": \"DropdownOptionRemove\",\n      onClick: event => removeItem(event, item, closeOnSelect),\n      role: \"presentation\",\n      ...getStyles(styles),\n      children: /* @__PURE__ */jsx4(Times_default, {})\n    })]\n  });\n}\n\n// src/components/Content.tsx\nimport { Fragment, jsx as jsx5, jsxs as jsxs2 } from \"react/jsx-runtime\";\nvar StyledContent = styled4.div`\n  display: flex;\n  flex: 1;\n  flex-wrap: wrap;\n  min-height: ${({\n  minHeight\n}) => getComponentMinHeight(minHeight)};\n  padding: 2px ${({\n  spacingX\n}) => spacingX};\n\n  > span + input {\n    margin-left: 6px;\n  }\n`;\nvar StyledSingleOption = styled4.span`\n  align-items: center;\n  align-self: stretch;\n  box-sizing: border-box;\n  color: ${({\n  bgColor\n}) => getTextColor(bgColor)};\n  display: inline-flex;\n  justify-content: center;\n`;\nfunction Content(props) {\n  const {\n    methods: {\n      getStyles: getStyles2,\n      setStatus\n    },\n    props: {\n      contentComponent,\n      multi,\n      onClickSelector,\n      searchable\n    },\n    state: {\n      status,\n      values\n    }\n  } = props;\n  const handleClick = event => {\n    setStatus(\"toggle\", event);\n    if (onClickSelector) {\n      onClickSelector(status);\n    }\n  };\n  return /* @__PURE__ */jsx5(StyledContent, {\n    className: `${SLUG}-content ${multi ? `${SLUG}-type-multi` : `${SLUG}-type-single`}`,\n    onClick: handleClick,\n    ...getStyles2(),\n    children: contentComponent ? contentComponent(props) : /* @__PURE__ */jsxs2(Fragment, {\n      children: [multi ? values.map(item => /* @__PURE__ */jsx5(Option, {\n        item,\n        ...props\n      }, `${getOptionData(item, \"label\")}${getOptionData(item, \"value\")}`)) : !!values.length && /* @__PURE__ */jsx5(StyledSingleOption, {\n        \"data-component-name\": \"DropdownSingleOption\",\n        ...getStyles2(),\n        children: getOptionData(values[0], \"label\")\n      }), (!values.length || searchable) && /* @__PURE__ */jsx5(Input, {\n        ...props\n      })]\n    })\n  });\n}\n\n// src/components/Handle.tsx\nimport isPropValid2 from \"@emotion/is-prop-valid\";\nimport styled5 from \"@emotion/styled\";\n\n// src/icons/Arrow.tsx\nimport { jsx as jsx6 } from \"react/jsx-runtime\";\nfunction Arrow({\n  size = 12\n}) {\n  return /* @__PURE__ */jsx6(\"svg\", {\n    height: px(size),\n    preserveAspectRatio: \"xMidYMid\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: px(size),\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: /* @__PURE__ */jsx6(\"g\", {\n      transform: \"translate(0.0 3.5)\",\n      children: /* @__PURE__ */jsx6(\"path\", {\n        d: \"M14.6367713,0 C14.7802691,0 14.9237668,0.0461538462 15.0672646,0.138461538 L15.8565022,0.969230769 C15.9521674,1.06153846 16,1.17692308 16,1.31538462 C16,1.45384615 15.9521674,1.56923077 15.8565022,1.66153846 L8.39461883,8.86153846 C8.29895366,8.95384615 8.1793722,9 8.03587444,9 C7.89237668,9 7.74887892,8.95384615 7.60538117,8.86153846 L0.143497758,1.66153846 C0.0478325859,1.56923077 0,1.45384615 0,1.31538462 C0,1.17692308 0.0478325859,1.06153846 0.143497758,0.969230769 L1.0044843,0.138461538 C1.10014948,0.0461538462 1.21973094,0 1.3632287,0 C1.50672646,0 1.62630792,0.0461538462 1.72197309,0.138461538 L8.03587444,6.23076923 L14.2780269,0.138461538 C14.3736921,0.0461538462 14.4932735,0 14.6367713,0 Z\",\n        fill: \"currentColor\"\n      })\n    })\n  });\n}\n\n// src/components/Handle.tsx\nimport { jsx as jsx7 } from \"react/jsx-runtime\";\nvar StyledHandle = styled5(\"div\", {\n  shouldForwardProp: prop => isPropValid2(prop) && prop !== \"rotate\"\n})`\n  align-self: stretch;\n  align-items: start;\n  color: ${({\n  bgColor\n}) => getTextColor(bgColor)};\n  cursor: pointer;\n  display: flex;\n\n  :hover {\n    path {\n      fill: ${({\n  hoverColor\n}) => hoverColor};\n    }\n  }\n\n  :focus {\n    outline: none;\n\n    path {\n      fill: ${({\n  hoverColor\n}) => hoverColor};\n    }\n  }\n\n  > div {\n    align-items: center;\n    display: inline-flex;\n    height: ${({\n  minHeight\n}) => getComponentMinHeight(minHeight)};\n    justify-content: center;\n    min-width: 30px;\n    transition: transform 0.2s ease-in-out;\n    transform: rotate(${({\n  status\n}) => status ? 180 : 0}deg);\n  }\n`;\nfunction Handle(props) {\n  const {\n    methods: {\n      getDropdownRef,\n      getLabels: getLabels2,\n      getStyles: getStyles2,\n      setStatus\n    },\n    props: {\n      handleComponent,\n      onClickSelector\n    },\n    state: {\n      status\n    }\n  } = props;\n  const {\n    toggle\n  } = getLabels2();\n  const handleClick = event => {\n    getDropdownRef()?.focus();\n    setStatus(\"toggle\", event);\n    if (onClickSelector) {\n      onClickSelector(status);\n    }\n  };\n  return /* @__PURE__ */jsx7(StyledHandle, {\n    \"aria-label\": toggle,\n    className: `${SLUG}-handle`,\n    \"data-component-name\": \"DropdownHandle\",\n    onClick: handleClick,\n    status,\n    tabIndex: 0,\n    title: toggle,\n    ...getStyles2(),\n    children: /* @__PURE__ */jsx7(\"div\", {\n      children: handleComponent ? handleComponent(props) : /* @__PURE__ */jsx7(Arrow, {})\n    })\n  });\n}\n\n// src/components/Loading.tsx\nimport styled6 from \"@emotion/styled\";\n\n// src/icons/Spinner.tsx\nimport { jsx as jsx8, jsxs as jsxs3 } from \"react/jsx-runtime\";\nfunction Spinner({\n  size = 12\n}) {\n  return /* @__PURE__ */jsx8(\"svg\", {\n    height: px(size),\n    preserveAspectRatio: \"xMidYMid\",\n    version: \"1.1\",\n    viewBox: \"0 0 16.0 16.0\",\n    width: px(size),\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: /* @__PURE__ */jsxs3(\"g\", {\n      children: [/* @__PURE__ */jsx8(\"path\", {\n        d: \"M8,0 L8,2.4 C4.907208,2.4 2.4,4.907208 2.4,8 L0,8 C0,3.58172 3.58172,0 8,0 Z\",\n        fill: \"currentColor\"\n      }), /* @__PURE__ */jsx8(\"path\", {\n        d: \"M8,0 C12.41824,0 16,3.58172 16,8 C16,12.41824 12.41824,16 8,16 C3.58172,16 0,12.41824 0,8 C0,3.58172 3.58172,0 8,0 Z M8,2.4 C4.907208,2.4 2.4,4.907208 2.4,8 C2.4,11.0928 4.907208,13.6 8,13.6 C11.0928,13.6 13.6,11.0928 13.6,8 C13.6,4.907208 11.0928,2.4 8,2.4 Z\",\n        fill: \"currentColor\",\n        fillOpacity: \"0.3\"\n      })]\n    })\n  });\n}\n\n// src/components/Loading.tsx\nimport { jsx as jsx9 } from \"react/jsx-runtime\";\nvar StyledLoading = styled6.div`\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n\n  align-items: center;\n  color: ${({\n  bgColor\n}) => getTextColor(bgColor)};\n  cursor: pointer;\n  display: inline-flex;\n  justify-content: center;\n  min-height: ${({\n  minHeight\n}) => getComponentMinHeight(minHeight)};\n  width: 24px;\n\n  path:nth-of-type(1) {\n    transform-origin: 50% 50%;\n    animation: spin 1s linear infinite;\n  }\n`;\nfunction Loading(props) {\n  const {\n    methods: {\n      getStyles: getStyles2\n    },\n    props: {\n      loaderComponent\n    }\n  } = props;\n  if (loaderComponent) {\n    return loaderComponent(props);\n  }\n  return /* @__PURE__ */jsx9(StyledLoading, {\n    className: `${SLUG}-loading`,\n    ...getStyles2(),\n    children: /* @__PURE__ */jsx9(Spinner, {})\n  });\n}\nvar Loading_default = Loading;\n\n// src/components/Menu.tsx\nimport { useEffect as useEffect4, useRef as useRef4, useState } from \"react\";\nimport { css as css4 } from \"@emotion/react\";\nimport styled10 from \"@emotion/styled\";\n\n// src/components/Create.tsx\nimport styled7 from \"@emotion/styled\";\nimport { jsx as jsx10 } from \"react/jsx-runtime\";\nvar StyledCreate = styled7.div`\n  color: ${({\n  color\n}) => color};\n  padding: 5px 10px;\n\n  :hover,\n  :focus {\n    background-color: ${({\n  color\n}) => hexToRGBA(color, 0.1)};\n    outline: none;\n    cursor: pointer;\n  }\n\n  &.${SLUG}-create-active {\n    background-color: ${({\n  color\n}) => color};\n    color: ${({\n  color\n}) => getTextColor(color)};\n  }\n`;\nfunction Create(props) {\n  const {\n    methods: {\n      createItem,\n      getLabels: getLabels2,\n      getStyles: getStyles2\n    },\n    props: {\n      create,\n      options\n    },\n    state: {\n      cursor,\n      search,\n      values\n    }\n  } = props;\n  const shouldRender = create && search && !matchOptions([...values, ...options], search, false);\n  const {\n    create: createLabel\n  } = getLabels2();\n  const handleClick = event => {\n    event.stopPropagation();\n    createItem(search);\n  };\n  if (!shouldRender) {\n    return null;\n  }\n  const classes = [`${SLUG}-create`];\n  if (cursor === 0) {\n    classes.push(`${SLUG}-create-active`);\n  }\n  return /* @__PURE__ */jsx10(StyledCreate, {\n    className: classes.join(\" \"),\n    \"data-component-name\": \"DropdownCreate\",\n    onClick: handleClick,\n    role: \"button\",\n    ...getStyles2(),\n    children: createLabel.replace(\"{search}\", `\"${search}\"`)\n  });\n}\n\n// src/components/MenuItem.tsx\nimport { useEffect as useEffect3, useRef as useRef3 } from \"react\";\nimport { css as css3 } from \"@emotion/react\";\nimport styled8 from \"@emotion/styled\";\nimport { jsx as jsx11, jsxs as jsxs4 } from \"react/jsx-runtime\";\nvar StyledMenuItem = styled8.div(props => {\n  const {\n    bgColor,\n    color,\n    disabled,\n    disabledItemBgColor,\n    disabledItemColor,\n    hoverColor,\n    hoverOpacity,\n    spacingX,\n    spacingY\n  } = props;\n  return css3`\n    color: ${getTextColor(bgColor)};\n    cursor: pointer;\n    padding: ${spacingY} ${spacingX};\n\n    &.${SLUG}-item-active {\n      ${!disabled && `background-color: ${hexToRGBA(color, 0.2)};`}\n    }\n\n    + div {\n      border-top: 1px solid #fff;\n    }\n\n    :hover,\n    :focus {\n      background-color: ${hexToRGBA(hoverColor, hoverOpacity)};\n      outline: none;\n    }\n\n    &.${SLUG}-item-selected {\n      background-color: ${color};\n      color: ${getTextColor(color)};\n\n      &.${SLUG}-item-active {\n        background-color: ${hexToRGBA(color, 0.9)};\n      }\n    }\n\n    ${disabled && css3`\n      background-color: ${disabledItemBgColor} !important;\n      color: ${disabledItemColor} !important;\n      cursor: not-allowed;\n\n      ins {\n        border-radius: 2px;\n        border: 1px solid ${disabledItemColor};\n        font-size: x-small;\n        padding: 0 3px;\n        text-decoration: none;\n        text-transform: uppercase;\n      }\n    `}\n  `;\n});\nfunction MenuItem(props) {\n  const {\n    item,\n    itemIndex,\n    methods: {\n      addItem,\n      getLabels: getLabels2,\n      getStyles: getStyles2,\n      isSelected,\n      removeItem\n    },\n    props: {\n      keepSelectedInList,\n      menuItemComponent\n    },\n    state: {\n      cursor\n    }\n  } = props;\n  const ref = useRef3(null);\n  const disabled = item.disabled || false;\n  const {\n    disabled: disabledLabel\n  } = getLabels2();\n  useEffect3(() => {\n    if (cursor === itemIndex) {\n      ref.current?.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"nearest\",\n        inline: \"start\"\n      });\n    }\n  }, [cursor, itemIndex]);\n  const handleClick = event => {\n    event.stopPropagation();\n    if (disabled) {\n      return;\n    }\n    if (isSelected(item)) {\n      removeItem(null, item, false);\n    } else {\n      addItem(item);\n    }\n  };\n  if (menuItemComponent) {\n    return menuItemComponent(props);\n  }\n  if (!keepSelectedInList && isSelected(item)) {\n    return null;\n  }\n  const classes = [`${SLUG}-item`];\n  if (isSelected(item)) {\n    classes.push(`${SLUG}-item-selected`);\n  }\n  if (cursor === itemIndex) {\n    classes.push(`${SLUG}-item-active`);\n  }\n  if (disabled) {\n    classes.push(`${SLUG}-item-disabled`);\n  }\n  return /* @__PURE__ */jsxs4(StyledMenuItem, {\n    ref,\n    \"aria-disabled\": disabled,\n    \"aria-label\": getOptionData(item, \"label\"),\n    \"aria-selected\": isSelected(item),\n    className: classes.join(\" \"),\n    \"data-component-name\": \"DropdownMenuItem\",\n    disabled,\n    onClick: handleClick,\n    role: \"option\",\n    tabIndex: -1,\n    ...getStyles2(),\n    style: item.style,\n    children: [getOptionData(item, \"label\"), \" \", disabled && /* @__PURE__ */jsx11(\"ins\", {\n      children: disabledLabel\n    })]\n  }, `${getOptionData(item, \"value\")}${getOptionData(item, \"label\")}`);\n}\n\n// src/components/NoData.tsx\nimport styled9 from \"@emotion/styled\";\nimport { jsx as jsx12 } from \"react/jsx-runtime\";\nvar StyledNoData = styled9.div`\n  color: ${({\n  color\n}) => color};\n  padding: 10px;\n  text-align: center;\n`;\nfunction NoData(props) {\n  const {\n    methods: {\n      getLabels: getLabels2,\n      getStyles: getStyles2\n    },\n    props: {\n      noDataComponent\n    }\n  } = props;\n  const {\n    noData\n  } = getLabels2();\n  if (noDataComponent) {\n    return noDataComponent(props);\n  }\n  return /* @__PURE__ */jsx12(StyledNoData, {\n    className: `${SLUG}-no-data`,\n    \"data-component-name\": \"DropdownNoData\",\n    ...getStyles2(),\n    children: noData\n  });\n}\nvar NoData_default = NoData;\n\n// src/components/Menu.tsx\nimport { Fragment as Fragment2, jsx as jsx13, jsxs as jsxs5 } from \"react/jsx-runtime\";\nvar StyledMenu = styled10(\"div\")(props => {\n  const {\n    bgColor,\n    borderColor,\n    borderRadius,\n    dropdownBounds,\n    gap,\n    isVisible,\n    menuMaxHeight,\n    position\n  } = props;\n  const borderWidth = 2;\n  return css4`\n    background-color: ${bgColor};\n    border-radius: ${borderRadius};\n    border: 1px solid ${borderColor};\n    box-shadow: 0 0 10px 0 ${hexToRGBA(\"#000000\", 0.2)};\n    display: flex;\n    flex-direction: column;\n    left: -1px;\n    max-height: ${px(menuMaxHeight)};\n    opacity: ${isVisible ? 1 : 0};\n    overflow: auto;\n    position: absolute;\n    width: ${dropdownBounds.width}px;\n    z-index: 9;\n    ${position === \"top\" ? `bottom: ${dropdownBounds.height + borderWidth + gap}px` : `top: ${dropdownBounds.height + borderWidth + gap}px`};\n\n    :focus {\n      outline: none;\n    }\n  }\n  `;\n});\nfunction Menu(props) {\n  const {\n    methods: {\n      getStyles: getStyles2\n    },\n    props: {\n      menuComponent\n    },\n    state: {\n      dropdownBounds,\n      searchResults\n    }\n  } = props;\n  const listRef = useRef4(null);\n  const [isVisible, setVisible] = useState(false);\n  useEffect4(() => {\n    setVisible(true);\n  }, []);\n  const position = getPosition(props, listRef.current);\n  return /* @__PURE__ */jsx13(StyledMenu, {\n    ref: listRef,\n    className: `${SLUG}-menu ${SLUG}-menu-position-${position}`,\n    \"data-component-name\": \"DropdownMenu\",\n    dropdownBounds,\n    isVisible,\n    position,\n    role: \"list\",\n    tabIndex: -1,\n    ...getStyles2(),\n    children: menuComponent ? menuComponent(props) : /* @__PURE__ */jsxs5(Fragment2, {\n      children: [/* @__PURE__ */jsx13(Create, {\n        ...props\n      }), searchResults.length ? searchResults.map((item, itemIndex) => /* @__PURE__ */jsx13(MenuItem, {\n        item,\n        itemIndex,\n        ...props\n      }, item.value)) : /* @__PURE__ */jsx13(NoData_default, {\n        ...props\n      })]\n    })\n  });\n}\nvar Menu_default = Menu;\n\n// src/components/Separator.tsx\nimport styled11 from \"@emotion/styled\";\nimport { jsx as jsx14 } from \"react/jsx-runtime\";\nvar StyledSeparator = styled11.div`\n  align-self: stretch;\n  background-color: ${({\n  borderColor\n}) => borderColor};\n  display: block;\n  width: 1px;\n`;\nfunction Separator(props) {\n  const {\n    methods: {\n      getStyles: getStyles2\n    },\n    props: {\n      separatorComponent\n    }\n  } = props;\n  if (separatorComponent) {\n    return separatorComponent(props);\n  }\n  return /* @__PURE__ */jsx14(StyledSeparator, {\n    className: `${SLUG}-separator`,\n    ...getStyles2()\n  });\n}\n\n// src/index.tsx\nimport { jsx as jsx15, jsxs as jsxs6 } from \"react/jsx-runtime\";\nvar ReactDropdown = styled12(\"div\", styledOptions)(props => {\n  const {\n    bgColor,\n    borderColor,\n    borderRadius,\n    color,\n    direction,\n    disabled,\n    minHeight,\n    width\n  } = props;\n  return css5`\n    align-items: start;\n    background-color: ${bgColor};\n    border-radius: ${borderRadius};\n    border: 1px solid ${borderColor};\n    box-sizing: border-box;\n    cursor: pointer;\n    direction: ${direction};\n    display: flex;\n    flex-direction: row;\n    min-height: ${px(minHeight)};\n    position: relative;\n    width: ${width};\n    ${disabled ? `\n      cursor: not-allowed;\n      opacity: 0.6;\n      pointer-events: none;\n      ` : `\n      pointer-events: all;\n      `};\n\n    :hover,\n    :focus-within {\n      border-color: ${color};\n    }\n\n    :focus,\n    :focus-within {\n      outline: 0;\n      box-shadow: 0 0 0 3px ${hexToRGBA(color, 0.2)};\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n  `;\n});\nvar Dropdown = class extends Component {\n  dropdownRef;\n  methods;\n  static defaultProps = defaultProps;\n  constructor(props) {\n    super(props);\n    this.state = {\n      cursor: null,\n      dropdownBounds: {},\n      search: \"\",\n      searchResults: props.options,\n      status: props.open || false,\n      values: props.values || []\n    };\n    this.methods = {\n      addItem: this.addItem,\n      areAllSelected: this.areAllSelected,\n      clearAll: this.clearAll,\n      createItem: this.createItem,\n      // eslint-disable-next-line react/destructuring-assignment\n      getDropdownBounds: () => this.state.dropdownBounds,\n      getDropdownRef: () => this.dropdownRef.current,\n      getInputSize: this.getInputSize,\n      getLabels: this.getLabels,\n      getOptionData: this.getOptionData,\n      getStyles: this.getStyles,\n      handleKeyDown: this.handleKeyDown,\n      isSelected: this.isSelected,\n      removeItem: this.removeItem,\n      safeString: this.safeString,\n      searchResults: this.searchResults,\n      selectAll: this.selectAll,\n      setSearch: this.setSearch,\n      setStatus: this.setStatus,\n      toggleAll: this.toggleAll\n    };\n    this.dropdownRef = createRef();\n  }\n  componentDidMount() {\n    if (!canUseDOM()) {\n      return;\n    }\n    window.addEventListener(\"resize\", this.handleResize, true);\n    window.addEventListener(\"scroll\", this.handleScroll, true);\n    if (this.dropdownRef) {\n      this.updateDropdownBounds();\n    }\n  }\n  componentDidUpdate(previousProps, previousState) {\n    const {\n      search,\n      status,\n      values: stateValues\n    } = this.state;\n    const {\n      closeOnSelect,\n      comparatorFn = defaultProps.comparatorFn,\n      multi,\n      onChange,\n      onClose,\n      onOpen,\n      open,\n      options,\n      values = []\n    } = this.props;\n    if (!comparatorFn(previousProps.values || [], values) && comparatorFn(previousProps.values || [], previousState.values)) {\n      this.setState({\n        values\n      });\n      this.updateDropdownBounds();\n    }\n    if (!comparatorFn(previousProps.options, options)) {\n      this.setState({\n        searchResults: this.searchResults()\n      });\n    }\n    if (!comparatorFn(previousState.values, stateValues)) {\n      this.updateDropdownBounds();\n      if (onChange) {\n        onChange(stateValues);\n      }\n    }\n    if (previousState.search !== search) {\n      this.updateDropdownBounds();\n    }\n    if (!isEqual2(previousState.values, stateValues) && closeOnSelect) {\n      this.setStatus(\"close\");\n    }\n    if (previousProps.open !== open && typeof open === \"boolean\") {\n      this.setStatus(open ? \"open\" : \"close\");\n    }\n    if (previousProps.multi !== multi) {\n      this.updateDropdownBounds();\n    }\n    if (previousState.status && !status) {\n      document.removeEventListener(\"click\", this.handleClickOutside);\n      this.setState({\n        cursor: null\n      });\n      if (onClose) {\n        onClose();\n      }\n    }\n    if (!previousState.status && status) {\n      document.addEventListener(\"click\", this.handleClickOutside);\n      if (onOpen) {\n        onOpen();\n      }\n    }\n  }\n  componentWillUnmount() {\n    if (!canUseDOM()) {\n      return;\n    }\n    window.removeEventListener(\"resize\", this.handleResize, true);\n    window.removeEventListener(\"scroll\", this.handleScroll, true);\n    document.removeEventListener(\"click\", this.handleClickOutside);\n  }\n  handleClickOutside = event => {\n    const {\n      current\n    } = this.dropdownRef;\n    const {\n      target\n    } = event;\n    if (!current || !target) {\n      return;\n    }\n    if (current === target || !current.contains(target)) {\n      this.setStatus(\"close\");\n    }\n  };\n  handleKeyDown = event => {\n    const {\n      cursor,\n      search,\n      searchResults,\n      status,\n      values\n    } = this.state;\n    const {\n      create\n    } = this.props;\n    if ([\"ArrowDown\", \"ArrowUp\"].includes(event.key)) {\n      event.stopPropagation();\n    }\n    switch (event.key) {\n      case \"ArrowDown\":\n        {\n          if (!status) {\n            this.setStatus(\"open\");\n            this.setState({\n              cursor: 0\n            });\n            return;\n          }\n          this.setState({\n            cursor: getCursor(cursor, \"down\", searchResults)\n          });\n          break;\n        }\n      case \"ArrowUp\":\n        {\n          this.setState({\n            cursor: getCursor(cursor, \"up\", searchResults)\n          });\n          break;\n        }\n      case \"Backspace\":\n        {\n          if (isNumber(cursor) && !search.length) {\n            const nextValues = values.filter(value => !isEqual2(value, searchResults[cursor]));\n            if (nextValues.length !== values.length) {\n              this.setState({\n                values: nextValues\n              });\n            }\n          }\n          break;\n        }\n      case \"Enter\":\n        {\n          if (isNumber(cursor)) {\n            const currentItem = searchResults[cursor];\n            if (currentItem && !currentItem.disabled) {\n              if (create && matchOptions(values, search, false)) {\n                return;\n              }\n              this.addItem(currentItem);\n            } else if (search) {\n              this.createItem(search);\n            }\n          } else if (!search) {\n            this.setStatus(\"toggle\", event);\n          }\n          break;\n        }\n      case \"Escape\":\n        {\n          this.setStatus(\"close\");\n          break;\n        }\n    }\n  };\n  // eslint-disable-next-line react/sort-comp\n  handleResize = debounce(() => {\n    this.updateDropdownBounds();\n  }, 150);\n  handleScroll = debounce(() => {\n    const {\n      status\n    } = this.state;\n    const {\n      closeOnScroll\n    } = this.props;\n    this.updateDropdownBounds();\n    if (closeOnScroll && status) {\n      this.setStatus(\"close\");\n    }\n  }, 150);\n  setStatus = (action, event) => {\n    const {\n      search,\n      status\n    } = this.state;\n    const {\n      clearOnClose,\n      closeOnScroll,\n      closeOnSelect,\n      open,\n      options\n    } = this.props;\n    const target = event && (event.target || event.currentTarget);\n    const isMenuTarget = target && target.offsetParent && target.offsetParent.classList.contains(\"react-dropdown-menu\");\n    if (!closeOnScroll && !closeOnSelect && event && isMenuTarget) {\n      return;\n    }\n    if (typeof open === \"boolean\") {\n      this.setState({\n        status: open\n      });\n      return;\n    }\n    if (action === \"close\" && status) {\n      this.dropdownRef.current?.blur();\n      this.setState({\n        status: false,\n        search: clearOnClose ? \"\" : search,\n        searchResults: options\n      });\n      return;\n    }\n    if (action === \"open\" && !status) {\n      this.setState({\n        status: true\n      });\n      return;\n    }\n    if (action === \"toggle\") {\n      this.dropdownRef.current?.focus();\n      this.setState({\n        status: !status\n      });\n    }\n  };\n  updateDropdownBounds = () => {\n    if (this.dropdownRef.current) {\n      this.setState({\n        dropdownBounds: this.dropdownRef.current.getBoundingClientRect()\n      });\n    }\n  };\n  getInputSize = () => {\n    const {\n      placeholder,\n      secondaryPlaceholder\n    } = this.props;\n    const {\n      search,\n      values\n    } = this.state;\n    if (search) {\n      return search.length;\n    }\n    if (secondaryPlaceholder && values.length) {\n      return secondaryPlaceholder.length;\n    }\n    return values.length ? 3 : placeholder?.length || 0;\n  };\n  getLabels = () => {\n    const {\n      labels\n    } = this.props;\n    return getLabels(labels);\n  };\n  // eslint-disable-next-line class-methods-use-this\n  getOptionData = (input, key) => key === \"label\" ? getOptionData(input, \"label\") : getOptionData(input, \"value\");\n  getStyles = () => {\n    const {\n      styles\n    } = this.props;\n    return getStyles(styles);\n  };\n  addItem = item => {\n    const {\n      values\n    } = this.state;\n    const {\n      clearOnSelect,\n      multi\n    } = this.props;\n    if (multi) {\n      if (matchOptions(values, getOptionData(item, \"value\"))) {\n        this.removeItem(null, item, false);\n        return;\n      }\n      this.setState({\n        values: [...values, item]\n      });\n    } else {\n      this.setState({\n        values: [item]\n      });\n      this.setStatus(\"close\");\n    }\n    if (clearOnSelect) {\n      this.setState({\n        search: \"\"\n      });\n    }\n  };\n  removeItem = (event, item, close = false) => {\n    const {\n      values\n    } = this.state;\n    if (event) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n    if (close) {\n      this.setStatus(\"close\");\n    }\n    this.setState({\n      values: values.filter(data => getOptionData(data, \"value\") !== getOptionData(item, \"value\"))\n    });\n  };\n  setSearch = event => {\n    this.setState({\n      cursor: null,\n      search: event.target.value\n    }, () => {\n      this.setState({\n        searchResults: this.searchResults()\n      });\n    });\n  };\n  areAllSelected = () => {\n    const {\n      options\n    } = this.props;\n    const {\n      values\n    } = this.state;\n    return values.length === getAllOptions(options, values).length;\n  };\n  clearAll = () => {\n    const {\n      onClearAll\n    } = this.props;\n    if (onClearAll) {\n      onClearAll();\n    }\n    this.setState({\n      values: []\n    });\n  };\n  createItem = search => {\n    const {\n      onCreate,\n      options\n    } = this.props;\n    const newValue = {\n      label: search,\n      value: search\n    };\n    this.addItem(newValue);\n    if (onCreate) {\n      onCreate(search, () => this.setStatus(\"close\"));\n    }\n    this.setState({\n      search: \"\",\n      searchResults: [...options, newValue]\n    });\n  };\n  isSelected = option => {\n    const {\n      values\n    } = this.state;\n    return values.some(value => getOptionData(value, \"value\") === getOptionData(option, \"value\"));\n  };\n  selectAll = (valuesList = []) => {\n    const {\n      values\n    } = this.state;\n    const {\n      onSelectAll,\n      options\n    } = this.props;\n    if (onSelectAll) {\n      onSelectAll();\n    }\n    const nextValues = valuesList.length ? valuesList : getAllOptions(options, values);\n    this.setState({\n      values: nextValues\n    });\n  };\n  toggleAll = () => {\n    const {\n      values\n    } = this.state;\n    if (values.length) {\n      this.clearAll();\n    } else {\n      this.selectAll();\n    }\n  };\n  // eslint-disable-next-line class-methods-use-this\n  safeString = input => input.replace(/[$()*+.?[\\\\\\]^{|}]/g, \"\\\\$&\");\n  searchFn = () => {\n    const {\n      search\n    } = this.state;\n    const {\n      options,\n      searchBy = \"label\"\n    } = this.props;\n    const regexp = new RegExp(this.safeString(search), \"i\");\n    return options.filter(item => regexp.test(`${this.getOptionData(item, searchBy)}`));\n  };\n  searchResults = () => {\n    const {\n      searchFn\n    } = this.props;\n    if (searchFn) {\n      return searchFn({\n        methods: this.methods,\n        props: this.props,\n        state: this.state\n      });\n    }\n    return this.searchFn();\n  };\n  render() {\n    const {\n      status,\n      values\n    } = this.state;\n    const {\n      className,\n      direction = \"ltr\",\n      disabled = false,\n      hiddenInput,\n      hideHandle,\n      loading,\n      showClearButton,\n      showSeparator,\n      style\n    } = this.props;\n    const classes = [SLUG, className].filter(Boolean).join(\" \");\n    return /* @__PURE__ */jsxs6(ReactDropdown, {\n      ref: this.dropdownRef,\n      \"aria-expanded\": status,\n      \"aria-label\": \"Dropdown\",\n      className: classes,\n      \"data-component-name\": \"Dropdown\",\n      direction,\n      disabled,\n      onKeyDown: this.handleKeyDown,\n      style,\n      tabIndex: disabled ? -1 : 0,\n      ...this.getStyles(),\n      children: [/* @__PURE__ */jsx15(Content, {\n        methods: this.methods,\n        props: this.props,\n        state: this.state\n      }), hiddenInput && /* @__PURE__ */jsx15(\"input\", {\n        defaultValue: values.map(value => {\n          const {\n            key = \"value\"\n          } = hiddenInput;\n          if (key === \"value\") {\n            return getOptionData(value, \"value\");\n          }\n          return getOptionData(value, \"label\");\n        }).join(hiddenInput.separator) || \"\",\n        disabled,\n        name: hiddenInput.name,\n        pattern: hiddenInput.pattern,\n        required: !!hiddenInput.required,\n        style: {\n          opacity: 0,\n          width: 0,\n          position: \"absolute\"\n        },\n        tabIndex: -1\n      }), showClearButton && !!values.length && /* @__PURE__ */jsx15(Clear, {\n        methods: this.methods,\n        props: this.props,\n        state: this.state\n      }), loading && /* @__PURE__ */jsx15(Loading_default, {\n        methods: this.methods,\n        props: this.props,\n        state: this.state\n      }), showSeparator && /* @__PURE__ */jsx15(Separator, {\n        methods: this.methods,\n        props: this.props,\n        state: this.state\n      }), !hideHandle && /* @__PURE__ */jsx15(Handle, {\n        methods: this.methods,\n        props: this.props,\n        state: this.state\n      }), status && !disabled && /* @__PURE__ */jsx15(Menu_default, {\n        methods: this.methods,\n        props: this.props,\n        state: this.state\n      })]\n    });\n  }\n};\nvar src_default = Dropdown;\nexport { Dropdown, src_default as default };","map":{"version":3,"names":["Component","createRef","css","css5","styled12","isEqual2","isPropValid","isEqual","SLUG","defaultProps","autoFocus","clearOnClose","clearOnSelect","closeOnScroll","closeOnSelect","comparatorFn","create","direction","disabled","hideHandle","keepSelectedInList","loading","menuPosition","multi","placeholder","searchable","searchBy","secondaryPlaceholder","showClearButton","showSeparator","values","styledOptions","shouldForwardProp","prop","includes","formatHex","input","color","replace","hex","length","forEach","d","getTextColor","getYiq","isValidHex","blue","green","red","hexToRGB","parseInt","String","charAt","hexToRGBA","alpha","test","innerText","canUseDOM","window","document","createElement","debounce","fn","delay","timerId","arguments_","clearTimeout","setTimeout","getAllOptions","options","nextValues","filter","option","value","some","push","getComponentMinHeight","minHeight","amount","px","getCursor","cursor","type","total","lastValidIndex","map","item","lastIndexOf","reduce","acc","index","getNextCursor","nextCursor","getLabels","labels","clear","noData","toggle","getOptionData","key","isString","isNumber","getPosition","props","list","methods","getDropdownRef","getStyles","getStylesMethod","dropdown","gap","spacing","bottom","getBoundingClientRect","height","viewportHeight","isomorphicWindow","innerHeight","totalHeight","styles","bgColor","borderColor","borderRadius","disabledItemBgColor","disabledItemColor","hoverColor","hoverOpacity","menuMaxHeight","placeholderColor","spacingX","spacingY","width","matchOptions","search","strict","label","styled","jsx","Times","size","preserveAspectRatio","version","viewBox","xmlns","children","fill","Times_default","jsx2","StyledClear","div","Clear","clearAll","getLabels2","getStyles2","clearComponent","handleClick","event","stopPropagation","className","onClick","title","styled4","useEffect","useEffect2","useRef","useRef2","styled2","usePrevious","ref","current","jsx3","StyledInput","readOnly","getPlaceholder","state","hasValues","Input","createItem","getInputSize","setSearch","inputComponent","status","previousStatus","focus","blur","handleBlur","handleKeyDown","inputRef","onBlur","onChange","onKeyDown","tabIndex","css2","styled3","jsx4","jsxs","StyledOption","span","RemoveButton","button","Option","removeItem","optionComponent","role","Fragment","jsx5","jsxs2","StyledContent","StyledSingleOption","Content","setStatus","contentComponent","onClickSelector","isPropValid2","styled5","jsx6","Arrow","transform","jsx7","StyledHandle","Handle","handleComponent","styled6","jsx8","jsxs3","Spinner","fillOpacity","jsx9","StyledLoading","Loading","loaderComponent","Loading_default","useEffect4","useRef4","useState","css4","styled10","styled7","jsx10","StyledCreate","Create","shouldRender","createLabel","classes","join","useEffect3","useRef3","css3","styled8","jsx11","jsxs4","StyledMenuItem","MenuItem","itemIndex","addItem","isSelected","menuItemComponent","disabledLabel","scrollIntoView","behavior","block","inline","style","styled9","jsx12","StyledNoData","NoData","noDataComponent","NoData_default","Fragment2","jsx13","jsxs5","StyledMenu","dropdownBounds","isVisible","position","borderWidth","Menu","menuComponent","searchResults","listRef","setVisible","Menu_default","styled11","jsx14","StyledSeparator","Separator","separatorComponent","jsx15","jsxs6","ReactDropdown","Dropdown","dropdownRef","constructor","open","areAllSelected","getDropdownBounds","safeString","selectAll","toggleAll","componentDidMount","addEventListener","handleResize","handleScroll","updateDropdownBounds","componentDidUpdate","previousProps","previousState","stateValues","onClose","onOpen","setState","removeEventListener","handleClickOutside","componentWillUnmount","target","contains","currentItem","action","currentTarget","isMenuTarget","offsetParent","classList","close","preventDefault","data","onClearAll","onCreate","newValue","valuesList","onSelectAll","searchFn","regexp","RegExp","render","hiddenInput","Boolean","defaultValue","separator","name","pattern","required","opacity","src_default"],"sources":["/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/index.tsx","/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/config.ts","/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/modules/colors.ts","/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/modules/helpers.ts","/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/components/Clear.tsx","/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/icons/Times.tsx","/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/components/Content.tsx","/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/components/Input.tsx","/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/modules/hooks.ts","/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/components/Option.tsx","/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/components/Handle.tsx","/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/icons/Arrow.tsx","/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/components/Loading.tsx","/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/icons/Spinner.tsx","/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/components/Menu.tsx","/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/components/Create.tsx","/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/components/MenuItem.tsx","/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/components/NoData.tsx","/home/paycon-1/kso-lk-managment/reactapp/node_modules/@gilbarbara/react-dropdown/src/components/Separator.tsx"],"sourcesContent":["import { ChangeEvent, Component, createRef, KeyboardEvent, MouseEvent, RefObject } from 'react';\nimport { css } from '@emotion/react';\nimport styled from '@emotion/styled';\nimport isEqual from '@gilbarbara/deep-equal';\n\nimport { defaultProps, SLUG, styledOptions } from '~/config';\n\nimport { hexToRGBA } from '~/modules/colors';\nimport {\n  canUseDOM,\n  debounce,\n  getAllOptions,\n  getCursor,\n  getLabels,\n  getOptionData,\n  getStyles,\n  isNumber,\n  matchOptions,\n  px,\n} from '~/modules/helpers';\n\nimport Clear from '~/components/Clear';\nimport Content from '~/components/Content';\nimport Handle from '~/components/Handle';\nimport Loading from '~/components/Loading';\nimport Menu from '~/components/Menu';\nimport Separator from '~/components/Separator';\n\nimport { Actions, Methods, Option, OptionKeys, Props, State, Styles } from '~/types';\n\nconst ReactDropdown = styled(\n  'div',\n  styledOptions,\n)<Styles & Required<Pick<Props, 'direction' | 'disabled'>>>(props => {\n  const { bgColor, borderColor, borderRadius, color, direction, disabled, minHeight, width } =\n    props;\n\n  return css`\n    align-items: start;\n    background-color: ${bgColor};\n    border-radius: ${borderRadius};\n    border: 1px solid ${borderColor};\n    box-sizing: border-box;\n    cursor: pointer;\n    direction: ${direction};\n    display: flex;\n    flex-direction: row;\n    min-height: ${px(minHeight)};\n    position: relative;\n    width: ${width};\n    ${disabled\n      ? `\n      cursor: not-allowed;\n      opacity: 0.6;\n      pointer-events: none;\n      `\n      : `\n      pointer-events: all;\n      `};\n\n    :hover,\n    :focus-within {\n      border-color: ${color};\n    }\n\n    :focus,\n    :focus-within {\n      outline: 0;\n      box-shadow: 0 0 0 3px ${hexToRGBA(color, 0.2)};\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n  `;\n});\n\nexport class Dropdown extends Component<Props, State> {\n  private readonly dropdownRef: RefObject<HTMLDivElement>;\n  private readonly methods: Methods;\n\n  static defaultProps = defaultProps;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      cursor: null,\n      dropdownBounds: {},\n      search: '',\n      searchResults: props.options,\n      status: props.open || false,\n      values: props.values || [],\n    };\n\n    this.methods = {\n      addItem: this.addItem,\n      areAllSelected: this.areAllSelected,\n      clearAll: this.clearAll,\n      createItem: this.createItem,\n      // eslint-disable-next-line react/destructuring-assignment\n      getDropdownBounds: () => this.state.dropdownBounds,\n      getDropdownRef: () => this.dropdownRef.current,\n      getInputSize: this.getInputSize,\n      getLabels: this.getLabels,\n      getOptionData: this.getOptionData,\n      getStyles: this.getStyles,\n      handleKeyDown: this.handleKeyDown,\n      isSelected: this.isSelected,\n      removeItem: this.removeItem,\n      safeString: this.safeString,\n      searchResults: this.searchResults,\n      selectAll: this.selectAll,\n      setSearch: this.setSearch,\n      setStatus: this.setStatus,\n      toggleAll: this.toggleAll,\n    };\n\n    this.dropdownRef = createRef();\n  }\n\n  componentDidMount() {\n    if (!canUseDOM()) {\n      return;\n    }\n\n    window.addEventListener('resize', this.handleResize, true);\n    window.addEventListener('scroll', this.handleScroll, true);\n\n    if (this.dropdownRef) {\n      this.updateDropdownBounds();\n    }\n  }\n\n  componentDidUpdate(previousProps: Props, previousState: State) {\n    const { search, status, values: stateValues } = this.state;\n    const {\n      closeOnSelect,\n      comparatorFn = defaultProps.comparatorFn,\n      multi,\n      onChange,\n      onClose,\n      onOpen,\n      open,\n      options,\n      values = [],\n    } = this.props;\n\n    if (\n      !comparatorFn(previousProps.values || [], values) &&\n      comparatorFn(previousProps.values || [], previousState.values)\n    ) {\n      this.setState({ values });\n      this.updateDropdownBounds();\n    }\n\n    if (!comparatorFn(previousProps.options, options)) {\n      this.setState({ searchResults: this.searchResults() });\n    }\n\n    if (!comparatorFn(previousState.values, stateValues)) {\n      this.updateDropdownBounds();\n\n      if (onChange) {\n        onChange(stateValues);\n      }\n    }\n\n    if (previousState.search !== search) {\n      this.updateDropdownBounds();\n    }\n\n    if (!isEqual(previousState.values, stateValues) && closeOnSelect) {\n      this.setStatus('close');\n    }\n\n    if (previousProps.open !== open && typeof open === 'boolean') {\n      this.setStatus(open ? 'open' : 'close');\n    }\n\n    if (previousProps.multi !== multi) {\n      this.updateDropdownBounds();\n    }\n\n    if (previousState.status && !status) {\n      document.removeEventListener('click', this.handleClickOutside);\n\n      this.setState({ cursor: null });\n\n      if (onClose) {\n        onClose();\n      }\n    }\n\n    if (!previousState.status && status) {\n      document.addEventListener('click', this.handleClickOutside);\n\n      if (onOpen) {\n        onOpen();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    if (!canUseDOM()) {\n      return;\n    }\n\n    window.removeEventListener('resize', this.handleResize, true);\n    window.removeEventListener('scroll', this.handleScroll, true);\n    document.removeEventListener('click', this.handleClickOutside);\n  }\n\n  handleClickOutside = (event: Event) => {\n    const { current } = this.dropdownRef;\n    const { target } = event;\n\n    if (!current || !target) {\n      return;\n    }\n\n    if (current === target || !current.contains(target as Node)) {\n      this.setStatus('close');\n    }\n  };\n\n  handleKeyDown = (event: KeyboardEvent<HTMLInputElement>) => {\n    const { cursor, search, searchResults, status, values } = this.state;\n    const { create } = this.props;\n\n    if (['ArrowDown', 'ArrowUp'].includes(event.key)) {\n      event.stopPropagation();\n    }\n\n    switch (event.key) {\n      case 'ArrowDown': {\n        if (!status) {\n          this.setStatus('open');\n          this.setState({\n            cursor: 0,\n          });\n\n          return;\n        }\n\n        this.setState({\n          cursor: getCursor(cursor, 'down', searchResults),\n        });\n\n        break;\n      }\n      case 'ArrowUp': {\n        this.setState({\n          cursor: getCursor(cursor, 'up', searchResults),\n        });\n\n        break;\n      }\n      case 'Backspace': {\n        if (isNumber(cursor) && !search.length) {\n          const nextValues = values.filter(value => !isEqual(value, searchResults[cursor]));\n\n          if (nextValues.length !== values.length) {\n            this.setState({\n              values: nextValues,\n            });\n          }\n        }\n\n        break;\n      }\n      case 'Enter': {\n        if (isNumber(cursor)) {\n          const currentItem = searchResults[cursor];\n\n          if (currentItem && !currentItem.disabled) {\n            if (create && matchOptions(values, search, false)) {\n              return;\n            }\n\n            this.addItem(currentItem);\n          } else if (search) {\n            this.createItem(search);\n          }\n        } else if (!search) {\n          this.setStatus('toggle', event);\n        }\n\n        break;\n      }\n      case 'Escape': {\n        this.setStatus('close');\n        break;\n      }\n    }\n  };\n\n  // eslint-disable-next-line react/sort-comp\n  handleResize = debounce(() => {\n    this.updateDropdownBounds();\n  }, 150);\n\n  handleScroll = debounce(() => {\n    const { status } = this.state;\n    const { closeOnScroll } = this.props;\n\n    this.updateDropdownBounds();\n\n    if (closeOnScroll && status) {\n      this.setStatus('close');\n    }\n  }, 150);\n\n  setStatus = (\n    action: Actions,\n    event?: Event | MouseEvent<HTMLElement> | KeyboardEvent<HTMLDivElement>,\n  ) => {\n    const { search, status } = this.state;\n    const { clearOnClose, closeOnScroll, closeOnSelect, open, options } = this.props;\n    const target = event && ((event.target || event.currentTarget) as HTMLElement);\n    const isMenuTarget =\n      target &&\n      target.offsetParent &&\n      target.offsetParent.classList.contains('react-dropdown-menu');\n\n    if (!closeOnScroll && !closeOnSelect && event && isMenuTarget) {\n      return;\n    }\n\n    if (typeof open === 'boolean') {\n      this.setState({ status: open });\n\n      return;\n    }\n\n    if (action === 'close' && status) {\n      this.dropdownRef.current?.blur();\n\n      this.setState({\n        status: false,\n        search: clearOnClose ? '' : search,\n        searchResults: options,\n      });\n\n      return;\n    }\n\n    if (action === 'open' && !status) {\n      this.setState({ status: true });\n\n      return;\n    }\n\n    if (action === 'toggle') {\n      this.dropdownRef.current?.focus();\n\n      this.setState({ status: !status });\n    }\n  };\n\n  updateDropdownBounds = () => {\n    if (this.dropdownRef.current) {\n      this.setState({\n        dropdownBounds: this.dropdownRef.current.getBoundingClientRect(),\n      });\n    }\n  };\n\n  getInputSize = () => {\n    const { placeholder, secondaryPlaceholder } = this.props;\n    const { search, values } = this.state;\n\n    if (search) {\n      return search.length;\n    }\n\n    if (secondaryPlaceholder && values.length) {\n      return secondaryPlaceholder.length;\n    }\n\n    return values.length ? 3 : placeholder?.length || 0;\n  };\n\n  getLabels = () => {\n    const { labels } = this.props;\n\n    return getLabels(labels);\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  getOptionData = (input: Option, key: OptionKeys) =>\n    key === 'label' ? getOptionData(input, 'label') : getOptionData(input, 'value');\n\n  getStyles = () => {\n    const { styles } = this.props;\n\n    return getStyles(styles);\n  };\n\n  addItem = (item: Option) => {\n    const { values } = this.state;\n    const { clearOnSelect, multi } = this.props;\n\n    if (multi) {\n      if (matchOptions(values, getOptionData(item, 'value'))) {\n        this.removeItem(null, item, false);\n\n        return;\n      }\n\n      this.setState({\n        values: [...values, item],\n      });\n    } else {\n      this.setState({\n        values: [item],\n      });\n\n      this.setStatus('close');\n    }\n\n    if (clearOnSelect) {\n      this.setState({ search: '' });\n    }\n  };\n\n  removeItem = (event: MouseEvent<HTMLElement> | null, item: Option, close = false) => {\n    const { values } = this.state;\n\n    if (event) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    if (close) {\n      this.setStatus('close');\n    }\n\n    this.setState({\n      values: values.filter(data => getOptionData(data, 'value') !== getOptionData(item, 'value')),\n    });\n  };\n\n  setSearch = (event: ChangeEvent<HTMLInputElement>) => {\n    this.setState(\n      {\n        cursor: null,\n        search: (event.target as HTMLInputElement).value,\n      },\n      () => {\n        this.setState({ searchResults: this.searchResults() });\n      },\n    );\n  };\n\n  areAllSelected = () => {\n    const { options } = this.props;\n    const { values } = this.state;\n\n    return values.length === getAllOptions(options, values).length;\n  };\n\n  clearAll = () => {\n    const { onClearAll } = this.props;\n\n    if (onClearAll) {\n      onClearAll();\n    }\n\n    this.setState({\n      values: [],\n    });\n  };\n\n  createItem = (search: string) => {\n    const { onCreate, options } = this.props;\n    const newValue = {\n      label: search,\n      value: search,\n    };\n\n    this.addItem(newValue);\n\n    if (onCreate) {\n      onCreate(search, () => this.setStatus('close'));\n    }\n\n    this.setState({ search: '', searchResults: [...options, newValue] });\n  };\n\n  isSelected = (option: Option) => {\n    const { values } = this.state;\n\n    return values.some(value => getOptionData(value, 'value') === getOptionData(option, 'value'));\n  };\n\n  selectAll = (valuesList: Option[] = []) => {\n    const { values } = this.state;\n    const { onSelectAll, options } = this.props;\n\n    if (onSelectAll) {\n      onSelectAll();\n    }\n\n    const nextValues = valuesList.length ? valuesList : getAllOptions(options, values);\n\n    this.setState({ values: nextValues });\n  };\n\n  toggleAll = () => {\n    const { values } = this.state;\n\n    if (values.length) {\n      this.clearAll();\n    } else {\n      this.selectAll();\n    }\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  safeString = (input: string) => input.replace(/[$()*+.?[\\\\\\]^{|}]/g, '\\\\$&');\n\n  searchFn = () => {\n    const { search } = this.state;\n    const { options, searchBy = 'label' } = this.props;\n    const regexp = new RegExp(this.safeString(search), 'i');\n\n    return options.filter(item => regexp.test(`${this.getOptionData(item, searchBy)}`));\n  };\n\n  searchResults = () => {\n    const { searchFn } = this.props;\n\n    if (searchFn) {\n      return searchFn({ methods: this.methods, props: this.props, state: this.state });\n    }\n\n    return this.searchFn();\n  };\n\n  render() {\n    const { status, values } = this.state;\n    const {\n      className,\n      direction = 'ltr',\n      disabled = false,\n      hiddenInput,\n      hideHandle,\n      loading,\n      showClearButton,\n      showSeparator,\n      style,\n    } = this.props;\n\n    const classes = [SLUG, className].filter(Boolean).join(' ');\n\n    return (\n      <ReactDropdown\n        ref={this.dropdownRef}\n        aria-expanded={status}\n        aria-label=\"Dropdown\"\n        className={classes}\n        data-component-name=\"Dropdown\"\n        direction={direction}\n        disabled={disabled}\n        onKeyDown={this.handleKeyDown}\n        style={style}\n        tabIndex={disabled ? -1 : 0}\n        {...this.getStyles()}\n      >\n        <Content methods={this.methods} props={this.props} state={this.state} />\n\n        {hiddenInput && (\n          <input\n            defaultValue={\n              values\n                .map(value => {\n                  const { key = 'value' } = hiddenInput;\n\n                  if (key === 'value') {\n                    return getOptionData(value, 'value');\n                  }\n\n                  return getOptionData(value, 'label');\n                })\n                .join(hiddenInput.separator) || ''\n            }\n            disabled={disabled}\n            name={hiddenInput.name}\n            pattern={hiddenInput.pattern}\n            required={!!hiddenInput.required}\n            style={{ opacity: 0, width: 0, position: 'absolute' }}\n            tabIndex={-1}\n          />\n        )}\n\n        {showClearButton && !!values.length && (\n          <Clear methods={this.methods} props={this.props} state={this.state} />\n        )}\n\n        {loading && <Loading methods={this.methods} props={this.props} state={this.state} />}\n\n        {showSeparator && (\n          <Separator methods={this.methods} props={this.props} state={this.state} />\n        )}\n\n        {!hideHandle && <Handle methods={this.methods} props={this.props} state={this.state} />}\n\n        {status && !disabled && (\n          <Menu methods={this.methods} props={this.props} state={this.state} />\n        )}\n      </ReactDropdown>\n    );\n  }\n}\n\nexport default Dropdown;\n\nexport * from '~/types';\n","import isPropValid from '@emotion/is-prop-valid';\nimport isEqual from '@gilbarbara/deep-equal';\nimport { SetRequired } from 'type-fest';\n\nimport { Props } from '~/types';\n\nexport const SLUG = 'react-dropdown';\n\nexport const defaultProps: SetRequired<\n  Omit<Props, 'options'>,\n  'closeOnSelect' | 'comparatorFn' | 'direction' | 'menuPosition' | 'values'\n> = {\n  autoFocus: true,\n  clearOnClose: true,\n  clearOnSelect: true,\n  closeOnScroll: false,\n  closeOnSelect: false,\n  comparatorFn: isEqual,\n  create: false,\n  direction: 'ltr' as const,\n  disabled: false,\n  hideHandle: false,\n  keepSelectedInList: true,\n  loading: false,\n  menuPosition: 'bottom' as const,\n  multi: false,\n  placeholder: 'Select...',\n  searchable: true,\n  searchBy: 'label',\n  secondaryPlaceholder: '',\n  showClearButton: false,\n  showSeparator: false,\n  values: [],\n};\n\nexport const styledOptions = {\n  shouldForwardProp: (prop: string) =>\n    isPropValid(prop) &&\n    ![\n      'color',\n      'direction',\n      'onClearAll',\n      'onCreate',\n      'onClose',\n      'onOpen',\n      'onSelectAll',\n      'spacing',\n      'width',\n    ].includes(prop),\n};\n","export function formatHex(input: string) {\n  const color = input.replace('#', '');\n  let hex = color;\n\n  if (color.length === 3 || color.length === 4) {\n    hex = '';\n\n    [...color].forEach(d => {\n      hex += `${d}${d}`;\n    });\n  }\n\n  hex = `#${hex}`;\n\n  return hex;\n}\n\nexport function getTextColor(input: string) {\n  return getYiq(input) > 135 ? '#000' : '#fff';\n}\n\nexport function getYiq(color: string) {\n  if (!isValidHex(color)) {\n    return 0;\n  }\n\n  const { blue, green, red } = hexToRGB(color);\n\n  return (red * 299 + green * 587 + blue * 114) / 1000;\n}\n\nexport function hexToRGB(input: string) {\n  if (!isValidHex(input)) {\n    return {\n      red: 0,\n      green: 0,\n      blue: 0,\n    };\n  }\n\n  const hex = formatHex(input).replace('#', '');\n\n  return {\n    red: parseInt(String(hex.charAt(0)) + hex.charAt(1), 16),\n    green: parseInt(String(hex.charAt(2)) + hex.charAt(3), 16),\n    blue: parseInt(String(hex.charAt(4)) + hex.charAt(5), 16),\n  };\n}\n\nexport function hexToRGBA(input: string, alpha?: number) {\n  const { blue, green, red } = hexToRGB(input);\n\n  return `rgba(${red}, ${green}, ${blue}${alpha ? `, ${alpha}` : ''})`;\n}\n\nexport function isValidHex(input: string) {\n  return /^#([\\dA-Fa-f]{6}|[\\dA-Fa-f]{3})$/.test(input);\n}\n","import innerText from 'react-innertext';\n\nimport { defaultProps } from '~/config';\n\nimport { ComponentProps, Labels, Option, OptionKeys, Position, Styles } from '~/types';\n\nexport function canUseDOM(): boolean {\n  return !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n}\n\nexport function debounce(fn: (...input: any[]) => void, delay = 0) {\n  let timerId: number;\n\n  return (...arguments_: any[]) => {\n    if (timerId) {\n      clearTimeout(timerId);\n    }\n\n    timerId = window.setTimeout(() => {\n      fn(...arguments_);\n      timerId = 0;\n    }, delay);\n  };\n}\n\nexport function getAllOptions(options: Option[], values: Option[]) {\n  const nextValues = options.filter(option => !option.disabled);\n\n  if (values.length) {\n    values.forEach(value => {\n      if (!nextValues.some(option => option.value === value.value)) {\n        nextValues.push(value);\n      }\n    });\n  }\n\n  return nextValues;\n}\n\nexport function getComponentMinHeight(minHeight: number, amount = 2): string {\n  return px(minHeight - amount);\n}\n\nexport function getCursor(cursor: number | null, type: 'down' | 'up', values: Option[] = []) {\n  const total = values.length;\n  const lastValidIndex = values.map(item => !!item.disabled).lastIndexOf(false);\n  const disabled = values.reduce<number[]>((acc, value, index) => {\n    if (value.disabled) {\n      acc.push(index);\n    }\n\n    return acc;\n  }, []);\n\n  const getNextCursor = (nextCursor: number): number => {\n    if (type === 'down') {\n      if (nextCursor === total) {\n        return 0;\n      }\n\n      if (disabled.includes(nextCursor)) {\n        return getNextCursor(nextCursor + 1);\n      }\n    } else if (type === 'up') {\n      if (nextCursor < 0) {\n        return lastValidIndex;\n      }\n\n      if (disabled.includes(nextCursor)) {\n        return getNextCursor(nextCursor - 1);\n      }\n    }\n\n    return nextCursor;\n  };\n\n  if (cursor === null) {\n    return type === 'down' ? 0 : lastValidIndex;\n  } else if (type === 'down') {\n    return getNextCursor(cursor + 1);\n  } else if (type === 'up') {\n    return getNextCursor(cursor - 1);\n  }\n\n  return cursor;\n}\n\nexport function getLabels(labels?: Partial<Labels>): Labels {\n  const {\n    clear = 'Clear',\n    create = 'Add {search}',\n    disabled = 'disabled',\n    noData = 'No data',\n    toggle = 'Toggle',\n  } = labels || {};\n\n  return {\n    clear,\n    create,\n    disabled,\n    noData,\n    toggle,\n  };\n}\n\nexport function getOptionData(input: Option, key: 'label'): string;\nexport function getOptionData(input: Option, key: 'value'): string | number;\n\nexport function getOptionData(input: Option, key: OptionKeys): string | number {\n  const value = input[key];\n\n  if (!isString(value) && !isNumber(value)) {\n    return innerText(value);\n  }\n\n  return value;\n}\n\nexport function getPosition(props: ComponentProps, list: HTMLDivElement | null): Position {\n  const {\n    methods: { getDropdownRef, getStyles: getStylesMethod },\n    props: { menuPosition = defaultProps.menuPosition },\n  } = props;\n\n  const dropdown = getDropdownRef();\n  const { gap } = getStylesMethod();\n  const spacing = 16;\n\n  if (menuPosition !== 'auto' || !list || !dropdown) {\n    return menuPosition;\n  }\n\n  const { bottom } = dropdown.getBoundingClientRect();\n  const { height } = list.getBoundingClientRect();\n  const viewportHeight = isomorphicWindow().innerHeight;\n\n  const totalHeight = bottom + height + gap + spacing;\n\n  if (totalHeight > viewportHeight) {\n    return 'top';\n  }\n\n  return 'bottom';\n}\n\nexport function getStyles(styles?: Partial<Styles>): Styles {\n  const {\n    bgColor = '#fff',\n    borderColor = '#ccc',\n    borderRadius = '4px',\n    color = '#1E90FF',\n    disabledItemBgColor = '#f2f2f2',\n    disabledItemColor = '#999',\n    gap = 2,\n    hoverColor,\n    hoverOpacity = 0.2,\n    menuMaxHeight = 300,\n    minHeight = 36,\n    placeholderColor = '#999',\n    spacingX = 12,\n    spacingY = 8,\n    width = '100%',\n  } = styles || {};\n\n  return {\n    bgColor,\n    borderColor,\n    borderRadius: px(borderRadius),\n    color,\n    disabledItemBgColor,\n    disabledItemColor,\n    gap,\n    hoverColor: hoverColor || color,\n    hoverOpacity,\n    menuMaxHeight,\n    minHeight,\n    placeholderColor,\n    spacingX: px(spacingX),\n    spacingY: px(spacingY),\n    width: px(width),\n  };\n}\n\nexport function isomorphicWindow() {\n  if (typeof window === 'undefined') {\n    return {\n      innerHeight: 0,\n    };\n  }\n\n  return window;\n}\n\nexport function isNumber(input: any): input is number {\n  return typeof input === 'number';\n}\n\nexport function isString(input: any): input is string {\n  return typeof input === 'string';\n}\n\nexport function matchOptions(options: Option[], search: string | number, strict = true) {\n  return options.some(d => {\n    const label = strict\n      ? getOptionData(d, 'label') === search\n      : getOptionData(d, 'label').includes(String(search));\n    const value = strict\n      ? getOptionData(d, 'value') === search\n      : String(getOptionData(d, 'value')).includes(String(search));\n\n    return label || value;\n  });\n}\n\nexport function parseNumber(input: string | number) {\n  if (isString(input)) {\n    return parseInt(input, 10);\n  }\n\n  return input;\n}\n\nexport function px(input: string | number): string {\n  return isString(input) ? input : `${input}px`;\n}\n","import { MouseEvent } from 'react';\nimport styled from '@emotion/styled';\n\nimport { SLUG } from '~/config';\n\nimport { getTextColor } from '~/modules/colors';\nimport { getComponentMinHeight } from '~/modules/helpers';\n\nimport Times from '~/icons/Times';\nimport { ComponentProps, Styles } from '~/types';\n\nconst StyledClear = styled.div<Styles>`\n  align-items: center;\n  color: ${({ bgColor }) => getTextColor(bgColor)};\n  display: inline-flex;\n  justify-content: center;\n  min-height: ${({ minHeight }) => getComponentMinHeight(minHeight)};\n  width: 24px;\n\n  :focus {\n    outline: none;\n  }\n\n  :hover {\n    fill: ${({ hoverColor }) => hoverColor};\n  }\n`;\n\nexport default function Clear(props: ComponentProps) {\n  const {\n    methods: { clearAll, getLabels, getStyles },\n    props: { clearComponent },\n  } = props;\n  const { clear } = getLabels();\n\n  if (clearComponent) {\n    return clearComponent(props);\n  }\n\n  const handleClick = (event: MouseEvent<HTMLDivElement>) => {\n    event.stopPropagation();\n    clearAll();\n  };\n\n  return (\n    <StyledClear\n      aria-label={clear}\n      className={`${SLUG}-clear`}\n      data-component-name=\"DropdownClear\"\n      onClick={handleClick}\n      title={clear}\n      {...getStyles()}\n    >\n      <Times />\n    </StyledClear>\n  );\n}\n","import { px } from '~/modules/helpers';\n\nfunction Times({ size = 8 }: { size?: number }): JSX.Element {\n  return (\n    <svg\n      height={px(size)}\n      preserveAspectRatio=\"xMidYMid\"\n      version=\"1.1\"\n      viewBox=\"0 0 16 16\"\n      width={px(size)}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <g>\n        <path\n          d=\"M0.313174194,0.313176288 C0.730750479,-0.104392096 1.40776019,-0.104392096 1.82533647,0.313176288 L7.99996524,6.48786773 L14.174701,0.313176288 C14.5922452,-0.104392096 15.2692976,-0.104392096 15.6868418,0.313176288 C16.1043861,0.730755364 16.1043861,1.4077696 15.6868418,1.82534867 L9.51210613,8.00001873 L15.6867349,14.1746887 C16.1042791,14.5922357 16.1042791,15.2692928 15.6867349,15.6868398 C15.2691907,16.1043867 14.5921382,16.1043867 14.174594,15.6868398 L7.99996524,9.51216972 L1.82538994,15.6868398 C1.40782434,16.1043867 0.730814635,16.1043867 0.313238349,15.6868398 C-0.104327243,15.2692928 -0.104327243,14.5922357 0.313238349,14.1746887 L6.48782435,8.00001873 L0.313174194,1.82534867 C-0.104391398,1.4077696 -0.104391398,0.730755364 0.313174194,0.313176288 Z\"\n          fill=\"currentColor\"\n        />\n      </g>\n    </svg>\n  );\n}\n\nexport default Times;\n","import { MouseEvent } from 'react';\nimport styled from '@emotion/styled';\n\nimport { SLUG } from '~/config';\n\nimport { getTextColor } from '~/modules/colors';\nimport { getComponentMinHeight, getOptionData } from '~/modules/helpers';\n\nimport { ComponentProps, Styles } from '~/types';\n\nimport Input from './Input';\nimport Option from './Option';\n\nconst StyledContent = styled.div<Styles>`\n  display: flex;\n  flex: 1;\n  flex-wrap: wrap;\n  min-height: ${({ minHeight }) => getComponentMinHeight(minHeight)};\n  padding: 2px ${({ spacingX }) => spacingX};\n\n  > span + input {\n    margin-left: 6px;\n  }\n`;\n\nconst StyledSingleOption = styled.span<Styles>`\n  align-items: center;\n  align-self: stretch;\n  box-sizing: border-box;\n  color: ${({ bgColor }) => getTextColor(bgColor)};\n  display: inline-flex;\n  justify-content: center;\n`;\n\nexport default function Content(props: ComponentProps) {\n  const {\n    methods: { getStyles, setStatus },\n    props: { contentComponent, multi, onClickSelector, searchable },\n    state: { status, values },\n  } = props;\n\n  const handleClick = (event: MouseEvent<HTMLElement>) => {\n    setStatus('toggle', event);\n\n    if (onClickSelector) {\n      onClickSelector(status);\n    }\n  };\n\n  return (\n    <StyledContent\n      className={`${SLUG}-content ${multi ? `${SLUG}-type-multi` : `${SLUG}-type-single`}`}\n      onClick={handleClick}\n      {...getStyles()}\n    >\n      {contentComponent ? (\n        contentComponent(props)\n      ) : (\n        <>\n          {multi\n            ? values.map(item => (\n                <Option\n                  key={`${getOptionData(item, 'label')}${getOptionData(item, 'value')}`}\n                  item={item}\n                  {...props}\n                />\n              ))\n            : !!values.length && (\n                <StyledSingleOption data-component-name=\"DropdownSingleOption\" {...getStyles()}>\n                  {getOptionData(values[0], 'label')}\n                </StyledSingleOption>\n              )}\n          {(!values.length || searchable) && <Input {...props} />}\n        </>\n      )}\n    </StyledContent>\n  );\n}\n","import { FocusEvent, KeyboardEvent, useEffect, useRef } from 'react';\nimport { css } from '@emotion/react';\nimport styled from '@emotion/styled';\n\nimport { SLUG } from '~/config';\n\nimport { getTextColor } from '~/modules/colors';\nimport { matchOptions } from '~/modules/helpers';\nimport { usePrevious } from '~/modules/hooks';\n\nimport { ComponentProps, Styles } from '~/types';\n\nconst StyledInput = styled.input<Styles>(props => {\n  const { bgColor, placeholderColor, readOnly, size } = props;\n\n  return css`\n    background-color: transparent;\n    border: none;\n    color: ${getTextColor(bgColor)};\n    ${readOnly && 'cursor: pointer;'}\n    font-size: inherit;\n    line-height: inherit;\n    padding: 0;\n    width: ${`${size}ch`};\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: ${placeholderColor};\n    }\n  `;\n});\n\nfunction getPlaceholder({ props, state }: ComponentProps) {\n  const { placeholder, searchable, secondaryPlaceholder } = props;\n  const hasValues = state.values && state.values.length > 0;\n\n  if (hasValues && secondaryPlaceholder && searchable) {\n    return secondaryPlaceholder;\n  }\n\n  if (!hasValues) {\n    return placeholder;\n  } else if (!searchable) {\n    return '';\n  }\n\n  return '';\n}\n\nexport default function Input(props: ComponentProps) {\n  const {\n    methods: { createItem, getInputSize, getStyles, setSearch },\n    props: { autoFocus, create, disabled, inputComponent, options, searchable },\n    state: { cursor, search, status, values },\n  } = props;\n  const ref = useRef<HTMLInputElement>(null);\n  const previousStatus = usePrevious(status);\n\n  useEffect(() => {\n    if (previousStatus !== status && status && autoFocus) {\n      ref.current?.focus();\n    }\n\n    if (previousStatus !== status && !status) {\n      ref.current?.blur();\n    }\n  }, [autoFocus, status, previousStatus]);\n\n  const handleBlur = (event: FocusEvent<HTMLInputElement>) => {\n    event.stopPropagation();\n\n    if (!status) {\n      ref.current?.blur();\n\n      return;\n    }\n\n    ref.current?.focus();\n  };\n\n  const handleKeyDown = (event: KeyboardEvent) => {\n    if (\n      create &&\n      event.key === 'Enter' &&\n      !matchOptions([...values, ...options], search, false) &&\n      search &&\n      cursor === null\n    ) {\n      createItem(search);\n    }\n  };\n\n  if (inputComponent) {\n    return inputComponent({ ...props, inputRef: ref });\n  }\n\n  return (\n    <StyledInput\n      ref={ref}\n      className={`${SLUG}-input`}\n      data-component-name=\"DropdownInput\"\n      disabled={disabled}\n      onBlur={handleBlur}\n      onChange={setSearch}\n      onKeyDown={handleKeyDown}\n      placeholder={getPlaceholder(props)}\n      readOnly={!searchable}\n      size={getInputSize()}\n      tabIndex={-1}\n      value={search}\n      {...getStyles()}\n    />\n  );\n}\n","import { useEffect, useRef } from 'react';\n\nexport function usePrevious<T>(value: T): T {\n  const ref: any = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n","import { css } from '@emotion/react';\nimport styled from '@emotion/styled';\n\nimport { defaultProps, SLUG } from '~/config';\n\nimport { getTextColor } from '~/modules/colors';\nimport { getOptionData, getStyles } from '~/modules/helpers';\n\nimport Times from '~/icons/Times';\nimport { Direction, OptionComponentProps, Styles } from '~/types';\n\nconst StyledOption = styled.span<Styles & { direction: Direction }>(props => {\n  const { color, direction } = props;\n\n  return css`\n    align-items: center;\n    background-color: ${color};\n    border-radius: 2px;\n    color: ${getTextColor(color)};\n    display: flex;\n    flex-direction: ${direction === 'rtl' ? 'row-reverse' : 'row'};\n    line-height: 1;\n    margin: 3px 6px 3px 0;\n    padding: 4px;\n\n    :hover,\n    :hover > span {\n      opacity: 0.9;\n    }\n  `;\n});\n\nconst RemoveButton = styled.button<Styles>`\n  align-items: center;\n  appearance: none;\n  background-color: transparent;\n  border: none;\n  color: ${({ color }) => getTextColor(color)};\n  cursor: pointer;\n  display: inline-flex;\n  height: 16px;\n  justify-content: center;\n  margin-left: 4px;\n  padding: 0;\n  width: 16px;\n`;\n\nexport default function Option(props: OptionComponentProps) {\n  const {\n    item,\n    methods: { removeItem },\n    props: {\n      closeOnSelect = defaultProps.closeOnSelect,\n      direction = defaultProps.direction,\n      optionComponent,\n      styles,\n    },\n  } = props;\n\n  if (optionComponent) {\n    return optionComponent(props);\n  }\n\n  return (\n    <StyledOption\n      className={`${SLUG}-option`}\n      data-component-name=\"DropdownOption\"\n      direction={direction}\n      role=\"listitem\"\n      {...getStyles(styles)}\n    >\n      <span className={`${SLUG}-option-label`}>{getOptionData(item, 'label')}</span>\n      <RemoveButton\n        className={`${SLUG}-option-remove`}\n        data-component-name=\"DropdownOptionRemove\"\n        onClick={event => removeItem(event, item, closeOnSelect)}\n        role=\"presentation\"\n        {...getStyles(styles)}\n      >\n        <Times />\n      </RemoveButton>\n    </StyledOption>\n  );\n}\n","import { MouseEvent } from 'react';\nimport isPropValid from '@emotion/is-prop-valid';\nimport styled from '@emotion/styled';\n\nimport { SLUG } from '~/config';\n\nimport { getTextColor } from '~/modules/colors';\nimport { getComponentMinHeight } from '~/modules/helpers';\n\nimport Arrow from '~/icons/Arrow';\nimport { ComponentProps, Styles } from '~/types';\n\nconst StyledHandle = styled('div', {\n  shouldForwardProp: prop => isPropValid(prop) && prop !== 'rotate',\n})<Styles & { status: boolean }>`\n  align-self: stretch;\n  align-items: start;\n  color: ${({ bgColor }) => getTextColor(bgColor)};\n  cursor: pointer;\n  display: flex;\n\n  :hover {\n    path {\n      fill: ${({ hoverColor }) => hoverColor};\n    }\n  }\n\n  :focus {\n    outline: none;\n\n    path {\n      fill: ${({ hoverColor }) => hoverColor};\n    }\n  }\n\n  > div {\n    align-items: center;\n    display: inline-flex;\n    height: ${({ minHeight }) => getComponentMinHeight(minHeight)};\n    justify-content: center;\n    min-width: 30px;\n    transition: transform 0.2s ease-in-out;\n    transform: rotate(${({ status }) => (status ? 180 : 0)}deg);\n  }\n`;\n\nexport default function Handle(props: ComponentProps) {\n  const {\n    methods: { getDropdownRef, getLabels, getStyles, setStatus },\n    props: { handleComponent, onClickSelector },\n    state: { status },\n  } = props;\n  const { toggle } = getLabels();\n\n  const handleClick = (event: MouseEvent<HTMLDivElement>) => {\n    getDropdownRef()?.focus();\n    setStatus('toggle', event);\n\n    if (onClickSelector) {\n      onClickSelector(status);\n    }\n  };\n\n  return (\n    <StyledHandle\n      aria-label={toggle}\n      className={`${SLUG}-handle`}\n      data-component-name=\"DropdownHandle\"\n      onClick={handleClick}\n      status={status}\n      tabIndex={0}\n      title={toggle}\n      {...getStyles()}\n    >\n      <div>{handleComponent ? handleComponent(props) : <Arrow />}</div>\n    </StyledHandle>\n  );\n}\n","import { px } from '~/modules/helpers';\n\nexport default function Arrow({ size = 12 }: { size?: number }): JSX.Element {\n  return (\n    <svg\n      height={px(size)}\n      preserveAspectRatio=\"xMidYMid\"\n      version=\"1.1\"\n      viewBox=\"0 0 16 16\"\n      width={px(size)}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <g transform=\"translate(0.0 3.5)\">\n        <path\n          d=\"M14.6367713,0 C14.7802691,0 14.9237668,0.0461538462 15.0672646,0.138461538 L15.8565022,0.969230769 C15.9521674,1.06153846 16,1.17692308 16,1.31538462 C16,1.45384615 15.9521674,1.56923077 15.8565022,1.66153846 L8.39461883,8.86153846 C8.29895366,8.95384615 8.1793722,9 8.03587444,9 C7.89237668,9 7.74887892,8.95384615 7.60538117,8.86153846 L0.143497758,1.66153846 C0.0478325859,1.56923077 0,1.45384615 0,1.31538462 C0,1.17692308 0.0478325859,1.06153846 0.143497758,0.969230769 L1.0044843,0.138461538 C1.10014948,0.0461538462 1.21973094,0 1.3632287,0 C1.50672646,0 1.62630792,0.0461538462 1.72197309,0.138461538 L8.03587444,6.23076923 L14.2780269,0.138461538 C14.3736921,0.0461538462 14.4932735,0 14.6367713,0 Z\"\n          fill=\"currentColor\"\n        />\n      </g>\n    </svg>\n  );\n}\n","import styled from '@emotion/styled';\n\nimport { SLUG } from '~/config';\n\nimport { getTextColor } from '~/modules/colors';\nimport { getComponentMinHeight } from '~/modules/helpers';\n\nimport Spinner from '~/icons/Spinner';\nimport { ComponentProps, Styles } from '~/types';\n\nconst StyledLoading = styled.div<Styles>`\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n\n  align-items: center;\n  color: ${({ bgColor }) => getTextColor(bgColor)};\n  cursor: pointer;\n  display: inline-flex;\n  justify-content: center;\n  min-height: ${({ minHeight }) => getComponentMinHeight(minHeight)};\n  width: 24px;\n\n  path:nth-of-type(1) {\n    transform-origin: 50% 50%;\n    animation: spin 1s linear infinite;\n  }\n`;\n\nfunction Loading(props: ComponentProps) {\n  const {\n    methods: { getStyles },\n    props: { loaderComponent },\n  } = props;\n\n  if (loaderComponent) {\n    return loaderComponent(props);\n  }\n\n  return (\n    <StyledLoading className={`${SLUG}-loading`} {...getStyles()}>\n      <Spinner />\n    </StyledLoading>\n  );\n}\n\nexport default Loading;\n","import { px } from '~/modules/helpers';\n\nexport default function Spinner({ size = 12 }: { size?: number }): JSX.Element {\n  return (\n    <svg\n      height={px(size)}\n      preserveAspectRatio=\"xMidYMid\"\n      version=\"1.1\"\n      viewBox=\"0 0 16.0 16.0\"\n      width={px(size)}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <g>\n        <path\n          d=\"M8,0 L8,2.4 C4.907208,2.4 2.4,4.907208 2.4,8 L0,8 C0,3.58172 3.58172,0 8,0 Z\"\n          fill=\"currentColor\"\n        />\n        <path\n          d=\"M8,0 C12.41824,0 16,3.58172 16,8 C16,12.41824 12.41824,16 8,16 C3.58172,16 0,12.41824 0,8 C0,3.58172 3.58172,0 8,0 Z M8,2.4 C4.907208,2.4 2.4,4.907208 2.4,8 C2.4,11.0928 4.907208,13.6 8,13.6 C11.0928,13.6 13.6,11.0928 13.6,8 C13.6,4.907208 11.0928,2.4 8,2.4 Z\"\n          fill=\"currentColor\"\n          fillOpacity=\"0.3\"\n        />\n      </g>\n    </svg>\n  );\n}\n","import { useEffect, useRef, useState } from 'react';\nimport { css } from '@emotion/react';\nimport styled from '@emotion/styled';\n\nimport { SLUG } from '~/config';\n\nimport { hexToRGBA } from '~/modules/colors';\nimport { getPosition, px } from '~/modules/helpers';\n\nimport { AnyObject, ComponentProps, Position, Styles } from '~/types';\n\nimport Create from './Create';\nimport MenuItem from './MenuItem';\nimport NoData from './NoData';\n\nconst StyledMenu = styled('div')<\n  Styles & {\n    dropdownBounds: DOMRect | AnyObject;\n    isVisible: boolean;\n    position: Position;\n  }\n>(props => {\n  const {\n    bgColor,\n    borderColor,\n    borderRadius,\n    dropdownBounds,\n    gap,\n    isVisible,\n    menuMaxHeight,\n    position,\n  } = props;\n  const borderWidth = 2;\n\n  return css`\n    background-color: ${bgColor};\n    border-radius: ${borderRadius};\n    border: 1px solid ${borderColor};\n    box-shadow: 0 0 10px 0 ${hexToRGBA('#000000', 0.2)};\n    display: flex;\n    flex-direction: column;\n    left: -1px;\n    max-height: ${px(menuMaxHeight)};\n    opacity: ${isVisible ? 1 : 0};\n    overflow: auto;\n    position: absolute;\n    width: ${dropdownBounds.width}px;\n    z-index: 9;\n    ${\n      position === 'top'\n        ? `bottom: ${dropdownBounds.height + borderWidth + gap}px`\n        : `top: ${dropdownBounds.height + borderWidth + gap}px`\n    };\n\n    :focus {\n      outline: none;\n    }\n  }\n  `;\n});\n\nfunction Menu(props: ComponentProps) {\n  const {\n    methods: { getStyles },\n    props: { menuComponent },\n    state: { dropdownBounds, searchResults },\n  } = props;\n  const listRef = useRef<HTMLDivElement>(null);\n  const [isVisible, setVisible] = useState(false);\n\n  useEffect(() => {\n    setVisible(true);\n  }, []);\n\n  const position = getPosition(props, listRef.current);\n\n  return (\n    <StyledMenu\n      ref={listRef}\n      className={`${SLUG}-menu ${SLUG}-menu-position-${position}`}\n      data-component-name=\"DropdownMenu\"\n      dropdownBounds={dropdownBounds}\n      isVisible={isVisible}\n      position={position}\n      role=\"list\"\n      tabIndex={-1}\n      {...getStyles()}\n    >\n      {menuComponent ? (\n        menuComponent(props)\n      ) : (\n        <>\n          <Create {...props} />\n          {searchResults.length ? (\n            searchResults.map((item, itemIndex) => (\n              <MenuItem key={item.value} item={item} itemIndex={itemIndex} {...props} />\n            ))\n          ) : (\n            <NoData {...props} />\n          )}\n        </>\n      )}\n    </StyledMenu>\n  );\n}\n\nexport default Menu;\n","import { MouseEvent } from 'react';\nimport styled from '@emotion/styled';\n\nimport { SLUG } from '~/config';\n\nimport { getTextColor, hexToRGBA } from '~/modules/colors';\nimport { matchOptions } from '~/modules/helpers';\n\nimport { ComponentProps, Styles } from '~/types';\n\nconst StyledCreate = styled.div<Styles>`\n  color: ${({ color }) => color};\n  padding: 5px 10px;\n\n  :hover,\n  :focus {\n    background-color: ${({ color }) => hexToRGBA(color, 0.1)};\n    outline: none;\n    cursor: pointer;\n  }\n\n  &.${SLUG}-create-active {\n    background-color: ${({ color }) => color};\n    color: ${({ color }) => getTextColor(color)};\n  }\n`;\n\nexport default function Create(props: ComponentProps): JSX.Element | null {\n  const {\n    methods: { createItem, getLabels, getStyles },\n    props: { create, options },\n    state: { cursor, search, values },\n  } = props;\n  const shouldRender = create && search && !matchOptions([...values, ...options], search, false);\n\n  const { create: createLabel } = getLabels();\n\n  const handleClick = (event: MouseEvent<HTMLDivElement>) => {\n    event.stopPropagation();\n    createItem(search);\n  };\n\n  if (!shouldRender) {\n    return null;\n  }\n\n  const classes = [`${SLUG}-create`];\n\n  if (cursor === 0) {\n    classes.push(`${SLUG}-create-active`);\n  }\n\n  return (\n    <StyledCreate\n      className={classes.join(' ')}\n      data-component-name=\"DropdownCreate\"\n      onClick={handleClick}\n      role=\"button\"\n      {...getStyles()}\n    >\n      {createLabel.replace('{search}', `\"${search}\"`)}\n    </StyledCreate>\n  );\n}\n","import { MouseEvent, useEffect, useRef } from 'react';\nimport { css } from '@emotion/react';\nimport styled from '@emotion/styled';\n\nimport { SLUG } from '~/config';\n\nimport { getTextColor, hexToRGBA } from '~/modules/colors';\nimport { getOptionData } from '~/modules/helpers';\n\nimport { ItemComponentProps, Props, Styles } from '~/types';\n\nconst StyledMenuItem = styled.div<Styles & Required<Pick<Props, 'disabled'>>>(props => {\n  const {\n    bgColor,\n    color,\n    disabled,\n    disabledItemBgColor,\n    disabledItemColor,\n    hoverColor,\n    hoverOpacity,\n    spacingX,\n    spacingY,\n  } = props;\n\n  return css`\n    color: ${getTextColor(bgColor)};\n    cursor: pointer;\n    padding: ${spacingY} ${spacingX};\n\n    &.${SLUG}-item-active {\n      ${!disabled && `background-color: ${hexToRGBA(color, 0.2)};`}\n    }\n\n    + div {\n      border-top: 1px solid #fff;\n    }\n\n    :hover,\n    :focus {\n      background-color: ${hexToRGBA(hoverColor, hoverOpacity)};\n      outline: none;\n    }\n\n    &.${SLUG}-item-selected {\n      background-color: ${color};\n      color: ${getTextColor(color)};\n\n      &.${SLUG}-item-active {\n        background-color: ${hexToRGBA(color, 0.9)};\n      }\n    }\n\n    ${disabled &&\n    css`\n      background-color: ${disabledItemBgColor} !important;\n      color: ${disabledItemColor} !important;\n      cursor: not-allowed;\n\n      ins {\n        border-radius: 2px;\n        border: 1px solid ${disabledItemColor};\n        font-size: x-small;\n        padding: 0 3px;\n        text-decoration: none;\n        text-transform: uppercase;\n      }\n    `}\n  `;\n});\n\nexport default function MenuItem(props: ItemComponentProps) {\n  const {\n    item,\n    itemIndex,\n    methods: { addItem, getLabels, getStyles, isSelected, removeItem },\n    props: { keepSelectedInList, menuItemComponent },\n    state: { cursor },\n  } = props;\n  const ref = useRef<HTMLDivElement>(null);\n  const disabled = item.disabled || false;\n  const { disabled: disabledLabel } = getLabels();\n\n  useEffect(() => {\n    if (cursor === itemIndex) {\n      ref.current?.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });\n    }\n  }, [cursor, itemIndex]);\n\n  const handleClick = (event: MouseEvent<HTMLDivElement>) => {\n    event.stopPropagation();\n\n    if (disabled) {\n      return;\n    }\n\n    if (isSelected(item)) {\n      removeItem(null, item, false);\n    } else {\n      addItem(item);\n    }\n  };\n\n  if (menuItemComponent) {\n    return menuItemComponent(props);\n  }\n\n  if (!keepSelectedInList && isSelected(item)) {\n    return null;\n  }\n\n  const classes = [`${SLUG}-item`];\n\n  if (isSelected(item)) {\n    classes.push(`${SLUG}-item-selected`);\n  }\n\n  if (cursor === itemIndex) {\n    classes.push(`${SLUG}-item-active`);\n  }\n\n  if (disabled) {\n    classes.push(`${SLUG}-item-disabled`);\n  }\n\n  return (\n    <StyledMenuItem\n      key={`${getOptionData(item, 'value')}${getOptionData(item, 'label')}`}\n      ref={ref}\n      aria-disabled={disabled}\n      aria-label={getOptionData(item, 'label')}\n      aria-selected={isSelected(item)}\n      className={classes.join(' ')}\n      data-component-name=\"DropdownMenuItem\"\n      disabled={disabled}\n      onClick={handleClick}\n      role=\"option\"\n      tabIndex={-1}\n      {...getStyles()}\n      style={item.style}\n    >\n      {getOptionData(item, 'label')} {disabled && <ins>{disabledLabel}</ins>}\n    </StyledMenuItem>\n  );\n}\n","import styled from '@emotion/styled';\n\nimport { SLUG } from '~/config';\n\nimport { ComponentProps, Styles } from '~/types';\n\nconst StyledNoData = styled.div<Styles>`\n  color: ${({ color }) => color};\n  padding: 10px;\n  text-align: center;\n`;\n\nfunction NoData(props: ComponentProps) {\n  const {\n    methods: { getLabels, getStyles },\n    props: { noDataComponent },\n  } = props;\n  const { noData } = getLabels();\n\n  if (noDataComponent) {\n    return noDataComponent(props);\n  }\n\n  return (\n    <StyledNoData\n      className={`${SLUG}-no-data`}\n      data-component-name=\"DropdownNoData\"\n      {...getStyles()}\n    >\n      {noData}\n    </StyledNoData>\n  );\n}\n\nexport default NoData;\n","import styled from '@emotion/styled';\n\nimport { SLUG } from '~/config';\n\nimport { ComponentProps, Styles } from '~/types';\n\nconst StyledSeparator = styled.div<Styles>`\n  align-self: stretch;\n  background-color: ${({ borderColor }) => borderColor};\n  display: block;\n  width: 1px;\n`;\n\nexport default function Separator(props: ComponentProps) {\n  const {\n    methods: { getStyles },\n    props: { separatorComponent },\n  } = props;\n\n  if (separatorComponent) {\n    return separatorComponent(props);\n  }\n\n  return <StyledSeparator className={`${SLUG}-separator`} {...getStyles()} />;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}