{"ast":null,"code":"import requests from \"./requests\";\nexport async function getAllSerials({\n  sort,\n  page,\n  sortDirection,\n  filter,\n  filterField,\n  page_size\n}) {\n  let data = {\n    page: page,\n    sort: sort,\n    sort_direction: sortDirection\n  };\n  if (filter && filterField) {\n    data = Object.assign(data, {\n      filter: filter,\n      filter_field: filterField\n    });\n  }\n  if (page_size) {\n    data = Object.assign(data, {\n      page_size: page_size\n    });\n  }\n  let result = await requests.get('api/serials/serials/', {\n    params: data\n  });\n  if (result.status === 200) {\n    return result.data;\n  }\n}\nexport async function getSerial({\n  serial_no\n}) {\n  let data = {\n    'serial_no': serial_no\n  };\n  let result = await requests.get('api/serials/serial/', {\n    params: data\n  });\n  if (result.status === 200) {\n    return result.data;\n  }\n}\nexport async function getShops() {\n  let data = {\n    'page_size': 100000\n  };\n  let result = await requests.get('api/serials/shops', {\n    params: data\n  });\n  if (result.status === 200) {\n    return result.data;\n  }\n}\nexport async function setSerialShopNo({\n  serial_id,\n  shopId\n}) {\n  let data = {\n    id: serial_id,\n    shop_id: shopId\n  };\n  let result = await requests.post(\"api/serials/serial/\", data);\n  if (result.status === 200) {\n    return result.data;\n  }\n}\nexport async function changeSerialNo({\n  serial_id,\n  shop_id,\n  new_number\n}) {\n  let data = {\n    serial_id: serial_id,\n    shop_id: shop_id,\n    number: new_number\n  };\n  let result = await requests.post(\"api/serials/change_cash_number/\", data);\n  if (result.status === 200) {\n    return result.data;\n  }\n}\nexport async function changeAcceptSerial({\n  serial_id,\n  acceptSerial\n}) {\n  let data = {\n    id: serial_id,\n    accept_serial: !acceptSerial\n  };\n  console.log(data);\n  let result = await requests.post(\"api/serials/serial/\", data);\n  if (result.status === 200) {\n    return result.data;\n  }\n}\nexport async function acceptFeatures({\n  features,\n  serial_id\n}) {\n  let f = [];\n  Object.keys(features).map(f_key => {\n    let feature = features[f_key];\n    if (!feature.hasOwnProperty(\"id\")) {\n      feature.id = null;\n    }\n    f.push(feature);\n  });\n  let data = {\n    serial_id: serial_id,\n    features: f\n  };\n  let result = await requests.post(\"api/serials/feature/\", data);\n  return result.data;\n}\nexport async function getSerialsFromShop({\n  shop_id\n}) {\n  let data = {\n    'shop_id': shop_id\n  };\n  console.log(data);\n  let result = await requests.get(\"api/serials/serial_from_shop/\", {\n    params: data\n  });\n  if (result.status === 200) {\n    return result.data;\n  }\n}","map":{"version":3,"names":["requests","getAllSerials","sort","page","sortDirection","filter","filterField","page_size","data","sort_direction","Object","assign","filter_field","result","get","params","status","getSerial","serial_no","getShops","setSerialShopNo","serial_id","shopId","id","shop_id","post","changeSerialNo","new_number","number","changeAcceptSerial","acceptSerial","accept_serial","console","log","acceptFeatures","features","f","keys","map","f_key","feature","hasOwnProperty","push","getSerialsFromShop"],"sources":["/app/src/api.js"],"sourcesContent":["import requests from \"./requests\"\n\nexport async function getAllSerials({sort, page, sortDirection, filter, filterField, page_size}) {\n    let data = {\n        page: page,\n        sort: sort,\n        sort_direction: sortDirection\n    }\n    if (filter && filterField) {\n        data = Object.assign(data, {filter: filter, filter_field: filterField})\n    }\n    if (page_size) {\n        data = Object.assign(data, {page_size: page_size})\n    }\n    let result = await requests.get('api/serials/serials/', { params: data });\n    if (result.status === 200){\n        return result.data\n    }\n}\n\nexport async function getSerial({serial_no}) {\n    let data = {'serial_no': serial_no}\n    let result = await requests.get('api/serials/serial/', { params:data });\n    if (result.status === 200){\n        return result.data\n    }\n}\n\nexport async function getShops() {\n    let data = {'page_size': 100000}\n    let result = await requests.get('api/serials/shops', { params:data })\n    if (result.status === 200){\n        return result.data\n    }\n}\n\nexport async function setSerialShopNo({serial_id, shopId}) {\n    let data = {\n        id: serial_id,\n        shop_id: shopId\n    }\n    let result = await requests.post(\"api/serials/serial/\", data)\n    if (result.status === 200) {\n        return result.data\n    }\n}\n\nexport async function changeSerialNo({serial_id, shop_id, new_number}){\n    let data = {\n        serial_id: serial_id,\n        shop_id: shop_id,\n        number: new_number\n    }\n    let result = await requests.post(\"api/serials/change_cash_number/\", data)\n    if (result.status === 200) {\n        return result.data\n    }\n}\n\nexport async function changeAcceptSerial({serial_id, acceptSerial}){\n    let data = {\n        id:serial_id,\n        accept_serial: !acceptSerial\n    }\n    console.log(data)\n    let result = await requests.post(\"api/serials/serial/\", data)\n    if (result.status === 200) {\n        return result.data\n    }\n}\n\nexport async function acceptFeatures({features, serial_id}){\n    let f = []\n    Object.keys(features).map((f_key)=>{\n        let feature = features[f_key]\n        if (!feature.hasOwnProperty(\"id\")){\n            feature.id = null\n        }\n        f.push(feature)\n    })\n    let data = {\n        serial_id: serial_id,\n        features: f,\n    }\n\n\n    let result = await requests.post(\"api/serials/feature/\", data)\n    return result.data\n}\n\nexport async function getSerialsFromShop({shop_id}){\n    let data = {'shop_id': shop_id};\n    console.log(data)\n    let result = await requests.get(\"api/serials/serial_from_shop/\", { params:data })\n    if (result.status === 200) {\n        return result.data\n    }\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}