{"ast":null,"code":"var _jsxFileName = \"/app/src/routes/login.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport config from '../settings';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  const [showError, setShowError] = useState(false);\n  const url = config.base_url + \"/api/users/login/\";\n  const Error = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"flex justify-center text-red-600 text-sm font-medium animate-shake\",\n        children: \"\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 \\u043B\\u043E\\u0433\\u0438\\u043D \\u0438\\u043B\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this);\n  };\n  function auth(e) {\n    e.preventDefault();\n    setShowError(false);\n    let data = new FormData(e.target);\n    let data_to_send = {\n      username: data.get('login'),\n      password: data.get('password')\n    };\n    const instatnce = axios.create({\n      headers: {\n        'Accept': 'application/json'\n      }\n    });\n    const result = instatnce.post(url, data_to_send).then(result => {\n      localStorage.setItem('access', JSON.stringify(result.data.access));\n      localStorage.setItem('refresh', JSON.stringify(result.data.refresh));\n      setShowError(false);\n      return redirect('/');\n    }).catch(error => {\n      setShowError(true);\n    });\n  }\n  ;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"space-y-6\",\n          onSubmit: auth,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"login\",\n                name: \"login\",\n                type: \"text\",\n                autoComplete: \"login\",\n                required: true,\n                placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043B\\u043E\\u0433\\u0438\\u043D\",\n                className: \"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"password\",\n                name: \"password\",\n                type: \"password\",\n                autoComplete: \"current-password\",\n                required: true,\n                placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n                className: \"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), showError ? /*#__PURE__*/_jsxDEV(Error, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 27\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\",\n              children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(Login, \"C77dtg4pzT9nAKspAjk8aYcXoEQ=\");\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","redirect","axios","config","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","showError","setShowError","url","base_url","Error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","auth","e","preventDefault","data","FormData","target","data_to_send","username","get","password","instatnce","create","headers","result","post","then","localStorage","setItem","JSON","stringify","access","refresh","catch","error","onSubmit","id","name","type","autoComplete","required","placeholder","_c","$RefreshReg$"],"sources":["/app/src/routes/login.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport config from '../settings'\n\nexport default function Login() {\n  const [showError, setShowError] = useState(false);\n\n  const url = config.base_url + \"/api/users/login/\";\n\n  const Error = () => {\n    return(\n      <div className=\"mt-2\">\n        <p className=\"flex justify-center text-red-600 text-sm font-medium animate-shake\">Неверный логин или пароль</p>\n      </div>\n    )\n  }\n\n  function auth(e) {\n    e.preventDefault();\n    setShowError(false);\n    let data = new FormData(e.target);\n    let data_to_send = {\n      username: data.get('login'),\n      password: data.get('password')\n    }\n    const instatnce = axios.create({\n      headers: {\n        'Accept': 'application/json',\n        }\n\n    })\n    const result = instatnce.post(url, data_to_send)\n      .then((result) => {\n        localStorage.setItem('access', JSON.stringify(result.data.access));\n        localStorage.setItem('refresh', JSON.stringify(result.data.refresh));\n        setShowError(false);\n        return redirect('/')\n      })\n      .catch((error) => {\n        setShowError(true);\n      })\n  };\n\n  return (\n    <>\n      <div className=\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\">  \n        <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\n          <form className=\"space-y-6\" onSubmit={ auth }>\n            <div>\n              <div className=\"mt-2\">\n                <input\n                  id=\"login\"\n                  name=\"login\"\n                  type=\"text\"\n                  autoComplete=\"login\"\n                  required\n                  placeholder=\"Введите логин\"\n                  className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <div className=\"mt-2\">\n                <input\n                  id=\"password\"\n                  name=\"password\"\n                  type=\"password\"\n                  autoComplete=\"current-password\"\n                  required\n                  placeholder=\"Введите пароль\"\n                  className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n                />\n              </div>\n            </div>\n            { showError ? <Error /> : null}\n            <div>\n              <button\n                type=\"submit\"\n                className=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\n              >\n                Войти\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}